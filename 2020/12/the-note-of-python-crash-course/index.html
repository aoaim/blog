<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>《Python 編程：從入門到實踐》學習筆記 - Miaonote</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《Python 編程：從入門到實踐》學習筆記" />
<meta property="og:description" content="2020 年 12 月 28 日在圖靈社區購入《Python 編程：從入門到放棄實踐 第二版》并開始學習。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://miaom.uk/2020/12/the-note-of-python-crash-course/" />
<meta property="article:published_time" content="2020-12-29T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-12-29T00:00:00+00:00" />

		<meta itemprop="name" content="《Python 編程：從入門到實踐》學習筆記">
<meta itemprop="description" content="2020 年 12 月 28 日在圖靈社區購入《Python 編程：從入門到放棄實踐 第二版》并開始學習。">
<meta itemprop="datePublished" content="2020-12-29T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-12-29T00:00:00+00:00" />
<meta itemprop="wordCount" content="6282">



<meta itemprop="keywords" content="Python," />

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="Miaonote" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/img/cat.svg">
				</div><div class="logo__item logo__text">
					<div class="logo__title">Miaonote</div>
					<div class="logo__tagline">你的夢想是世界上最偉大的事</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/links/">
				
				<span class="menu__text">Links</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《Python 編程：從入門到實踐》學習筆記</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2020-12-29T00:00:00Z">2020-12-29</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/%E8%88%88%E8%B6%A3%E5%AD%B8%E7%BF%92/" rel="category">興趣學習</a>
	</span>
</div></div>
		</header>
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
  <ul>
    <li><a href="#22-變量">2.2 變量</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#23-字符串">2.3 字符串</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#24-數">2.4 數</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#25-注釋">2.5 注釋</a>
      <ul>
        <li><a href="#26-python-之禪">2.6 Python 之禪</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#31-列表是什麽">3.1 列表是什麽</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#32-修改添加和刪除元素">3.2 修改、添加和刪除元素</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#33-組織列表">3.3 組織列表</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#34-使用列表時避免檢索錯誤">3.4 使用列表時避免檢索錯誤</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#41-遍歷整個列表">4.1 遍歷整個列表</a></li>
    <li><a href="#42-避免縮進錯誤">4.2 避免縮進錯誤</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#43-創建數值表">4.3 創建數值表</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#44-使用列表的一部分">4.4 使用列表的一部分</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#45-元組">4.5 元組</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#46-設置代碼格式">4.6 設置代碼格式</a></li>
  </ul>

  <ul>
    <li><a href="#51-一個簡單的實例">5.1 一個簡單的實例</a></li>
    <li><a href="#52-條件測試">5.2 條件測試</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#53-if-測試">5.3 <code>if</code> 測試</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#54-使用-if-語句處理列表">5.4 使用 <code>if</code> 語句處理列表</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#設置-if-語句的格式">設置 <code>if</code> 語句的格式</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#61-一個簡單的字典">6.1 一個簡單的字典</a></li>
    <li><a href="#62-使用字典">6.2 使用字典</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#63-遍歷字典">6.3 遍歷字典</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#64-嵌套">6.4 嵌套</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#71-函數-input-的工作原理">7.1 函數 <code>input()</code> 的工作原理</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#72-while-循環簡介">7.2 <code>while</code> 循環簡介</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#73-使用-while-循環處理列表和字典">7.3 使用 <code>while</code> 循環處理列表和字典</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#81-定義函數">8.1 定義函數</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#82-傳遞實參">8.2 傳遞實參</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#83-返回值">8.3 返回值</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#84-傳遞列表">8.4 傳遞列表</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#85傳遞任意數量的實參">8.5　傳遞任意數量的實參</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#86-將函數存儲在模塊中">8.6 將函數存儲在模塊中</a></li>
    <li><a href="#87函數編寫指南">8.7　函數編寫指南</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#91創建和使用類">9.1　創建和使用類</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#92使用類和實例">9.2　使用類和實例</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#93繼承">9.3　繼承</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#94-導入類">9.4 導入類</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#95-python-標準庫">9.5 Python 標準庫</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#96-類編碼風格">9.6 類編碼風格</a></li>
  </ul>

  <ul>
    <li><a href="#101-從文件中讀取數據">10.1 從文件中讀取數據</a></li>
    <li><a href="#102-寫入文件">10.2 寫入文件</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#103-異常">10.3 異常</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#104-存儲數據">10.4 存儲數據</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#111-測試函數">11.1 測試函數</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#112-測試類">11.2 測試類</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
	</div>
</div>
<div class="content post__content clearfix">
			<p>2020 年 12 月 28 日在<a href="https://www.ituring.com.cn/book/2784">圖靈社區</a>購入《Python 編程：從入門到<del>放棄</del>實踐 第二版》并開始學習。</p>
<pre><code>                       _oo0oo_
                      o8888888o
                      88&quot; . &quot;88
                      (| -_- |)
                      0\  =  /0
                    ___/`---'\___
                  .' \\|     |# '.
                 / \\|||  :  |||# \
                / _||||| -:- |||||- \
               |   | \\\  -  #/ |   |
               | \_|  ''\---/''  |_/ |
               \  .-\__  '-'  ___/-. /
             ___'. .'  /--.--\  `. .'___
          .&quot;&quot; '&lt;  `.___\_&lt;|&gt;_/___.' &gt;' &quot;&quot;.
         | | :  `- \`.;`\ _ /`;.`/ - ` : | |
         \  \ `_.   \_ __\ /__ _/   .-` /  /
     =====`-.____`.___ \_____/___.-`___.-'=====
                       `=---='
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

               佛祖保佑         學習順利
</code></pre><h1 id="第-2-章-變量和簡單數據類型">第 2 章 變量和簡單數據類型</h1>
<h2 id="22-變量">2.2 變量</h2>
<p>變量的注意事項</p>
<ol>
<li>變量只能包含字母和數字，下劃綫。</li>
<li>變量不能包含空格。</li>
<li>請勿使用 Python 的保留詞作爲變量名。</li>
<li>變量名應當簡潔又具有描述性。</li>
<li>慎用可能被人看錯的字母 l 和 O 作爲變量名。</li>
</ol>
<p>編程語言要求嚴格，但并不關心拼寫是否正確。</p>
<p><strong>變量</strong>是可以賦值的標簽，也可以說是變量指向特定的值。這將有利於搞清楚代碼是如何運行的。</p>
<h4 id="練習-2-1-簡單消息">練習 2-1 簡單消息</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">simple_message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Python is the best.&#34;</span>
<span style="color:#66d9ef">print</span>(simple_message)
</code></pre></div><h4 id="練習-2-2-多條簡單消息">練習 2-2 多條簡單消息</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">double_message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hello,&#34;</span>
<span style="color:#66d9ef">print</span>(double_message)
double_message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;How are you today?&#34;</span>
<span style="color:#66d9ef">print</span>(double_message)
</code></pre></div><h2 id="23-字符串">2.3 字符串</h2>
<p>在 Python 中，字符串就是包含在<code>''</code>和<code>&quot;&quot;</code>裏面的内容。</p>
<p>方法是Python可對數據執行的操作。在<code>name.title（）</code>中，<code>name</code>後面的句點<code>.</code>讓Python對變量<code>name</code>執行方法<code>title（）</code>指定的操作。</p>
<p>方法 <code>title()</code>：用可以將字符串中每一個單詞的首字母都修改為大寫。</p>
<p>方法 <code>upper()</code>：用可以將字符串中所有字母都修改為大寫。</p>
<p>方法 <code>lower()</code>：用可以將字符串中所有字母都修改為小寫。</p>
<p><code>f</code> 字符：可用於變量的合并。</p>
<p><code>\t</code>和<code>\n</code>：分別用於在一個字符串内添加制表符和換行符。</p>
<p>方法 <code>rstrip()</code>：用於刪除字符串末尾的空白。</p>
<p>方法 <code>lstrip()</code>：用於刪除字符串開頭的空白。</p>
<p>方法 <code>strip()</code>：用於同時刪除字符串兩端的空白。</p>
<h4 id="練習-2-3-個性化消息">練習 2-3 個性化消息</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Mike&#34;</span>
say <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;Hello {name}, would you like to learn some Python today?&#34;</span>
<span style="color:#66d9ef">print</span>(say)
</code></pre></div><h4 id="練習-2-4-調整名字的大小寫">練習 2-4 調整名字的大小寫</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Miao&#34;</span>
name_upper <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>upper()
name_lower <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>lower()
name_title <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>title()
<span style="color:#66d9ef">print</span>(name<span style="color:#f92672">.</span>upper())
<span style="color:#66d9ef">print</span>(name<span style="color:#f92672">.</span>lower())
<span style="color:#66d9ef">print</span>(name<span style="color:#f92672">.</span>title())
</code></pre></div><h4 id="練習-2-5-名言">練習 2-5 名言</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">famous_person <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Albert Einstein&#34;</span>
dictum <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;A person who never made a mistake never tried anything new.&#34;</span>
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;{famous_person} said, &#34;{dictum}&#34;&#39;</span>)
</code></pre></div><h4 id="練習-2-6-名言-2">練習 2-6 名言 2</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">famous_person <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Albert Einstein&#34;</span>
dictum <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;A person who never made a mistake never tried anything new.&#34;</span>
message <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#39;{famous_person} said, &#34;{dictum}&#34;&#39;</span>
<span style="color:#66d9ef">print</span>(message)
</code></pre></div><h4 id="練習-2-7-剔除人名中的空白">練習 2-7 剔除人名中的空白</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;a</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">bc &#34;</span>
b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; de</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">f&#34;</span>
c <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; g</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">h</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">i &#34;</span>
<span style="color:#66d9ef">print</span>(a)
<span style="color:#66d9ef">print</span>(b)
<span style="color:#66d9ef">print</span>(a<span style="color:#f92672">.</span>rstrip())
<span style="color:#66d9ef">print</span>(b<span style="color:#f92672">.</span>lstrip())
<span style="color:#66d9ef">print</span>(c<span style="color:#f92672">.</span>strip())
</code></pre></div><h2 id="24-數">2.4 數</h2>
<p><strong>整數</strong>：在Python中，可對整數執行加（+）減（-）乘（*）除（/）乘方（**）運算。</p>
<p>空格不影響 Python 計算表達式的方式。</p>
<p><strong>浮點數</strong>：Python將所有帶小數點的數稱為浮點數。</p>
<p>無論是哪種運算，只要有操作數是浮點數，Python要么得到的總是浮點數，甚至結果原本為
整體也是如此。將任意兩個數相除時，結果總是浮點數，即便這兩個數都是整數且能整除。</p>
<p>爲了對與使用者方便易讀，在書寫很大的數時可用下劃綫將其中的數字分組，如 <code>100_000_000</code>。Python 會自動忽略其中的下劃綫。</p>
<p>可在一行代碼中給多個變量賦值，這有助於延長程序並提高其突出性。</p>
<p>常量類似於變量，但其值在程序的整個生命週期內保持不變。Python 程序員會使用全大寫來指出應將某個變量視為常量。</p>
<h4 id="練習-2-8-數字8">練習 2-8 數字8</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#ae81ff">2</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">3</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#ae81ff">4</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#ae81ff">9</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#ae81ff">16</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>)
</code></pre></div><h4 id="練習-2-9-最喜歡的數">練習 2-9 最喜歡的數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">favourite_num <span style="color:#f92672">=</span> (<span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My favourite number is {favourite_num}.&#34;</span>)
</code></pre></div><h2 id="25-注釋">2.5 注釋</h2>
<p>用開頭的 <code>#</code> 來表示注釋。注釋應該清晰、簡潔。</p>
<h3 id="26-python-之禪">2.6 Python 之禪</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">The Zen of Python, by Tim Peters

Beautiful <span style="color:#f92672">is</span> better than ugly<span style="color:#f92672">.</span> 
Explicit <span style="color:#f92672">is</span> better than implicit<span style="color:#f92672">.</span>
Simple <span style="color:#f92672">is</span> better than complex<span style="color:#f92672">.</span>
Complex <span style="color:#f92672">is</span> better than complicated<span style="color:#f92672">.</span>
Flat <span style="color:#f92672">is</span> better than nested<span style="color:#f92672">.</span>
Sparse <span style="color:#f92672">is</span> better than dense<span style="color:#f92672">.</span>
Readability counts<span style="color:#f92672">.</span>
Special cases aren<span style="color:#e6db74">&#39;t special enough to break the rules.</span>
Although practicality beats purity<span style="color:#f92672">.</span>
Errors should never <span style="color:#66d9ef">pass</span> silently<span style="color:#f92672">.</span>
Unless explicitly silenced<span style="color:#f92672">.</span>
In the face of ambiguity, refuse the temptation to guess<span style="color:#f92672">.</span>
There should be one<span style="color:#f92672">--</span> <span style="color:#f92672">and</span> preferably only one <span style="color:#f92672">--</span>obvious way to do it<span style="color:#f92672">.</span>
Although that way may <span style="color:#f92672">not</span> be obvious at first unless you<span style="color:#e6db74">&#39;re Dutch.</span>
Now <span style="color:#f92672">is</span> better than never<span style="color:#f92672">.</span>
Although never <span style="color:#f92672">is</span> often better than right now<span style="color:#f92672">.</span>
If the implementation <span style="color:#f92672">is</span> hard to explain, it<span style="color:#e6db74">&#39;s a bad idea.</span>
If the implementation <span style="color:#f92672">is</span> easy to explain, it may be a good idea<span style="color:#f92672">.</span>
Namespaces are one honking great idea <span style="color:#f92672">--</span> let<span style="color:#e6db74">&#39;s do more of those!</span>
</code></pre></div><h1 id="第-3-章-列表">第 3 章 列表</h1>
<h2 id="31-列表是什麽">3.1 列表是什麽</h2>
<p><strong>列表</strong>由一系列按特定順序排列的元素組成。在 Python 中，用方括號<code>[]</code>表示列表，並用逗號分隔其中的元素。</p>
<p>列表是有序集合，因此要訪問列表的任意元素，只需將該元素的位置（索引）告訴 Python即可。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">bicycles <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;trek&#39;</span>, <span style="color:#e6db74">&#39;cannondale&#39;</span>, <span style="color:#e6db74">&#39;redline&#39;</span>, <span style="color:#e6db74">&#39;specialized&#39;</span>]
<span style="color:#66d9ef">print</span>(bicycles[<span style="color:#ae81ff">0</span>])
</code></pre></div><p>在 Python中，<strong>第一個列表元素的索引為 0</strong>，而不是 1。大多數編程語言是如此規定的，這與列表操作的底層實現相關。</p>
<p>通過將索引指定為-1，可讓 Python 返回最後一個列表元素。以此類推。</p>
<h4 id="練習-3-1-姓名">練習 3-1 姓名</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;xiao ming&#34;</span>,<span style="color:#e6db74">&#34;xiao jun&#34;</span>,<span style="color:#e6db74">&#34;xiao hong&#34;</span>]
<span style="color:#66d9ef">print</span>(name[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>title())
<span style="color:#66d9ef">print</span>(name[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>title())
<span style="color:#66d9ef">print</span>(name[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span>title())
</code></pre></div><h4 id="練習-3-2-問候語">練習 3-2 問候語</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;xiao ming&#34;</span>,<span style="color:#e6db74">&#34;xiao jun&#34;</span>,<span style="color:#e6db74">&#34;xiao hong&#34;</span>]
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Hi {name[0].title()}, how are you today?&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Hi {name[1].title()}, how are you today?&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Hi {name[2].title()}, how are you today?&#34;</span>)
</code></pre></div><h4 id="練習-3-3-自己的列表">練習 3-3 自己的列表</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;car&#34;</span>,<span style="color:#e6db74">&#34;motorcycle&#34;</span>,<span style="color:#e6db74">&#34;plane&#34;</span>]
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I want to have a {name[0].title()}.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I hope to go to Moscow by {name[2]}.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I would like wo own a Honda {name[1]}.&#34;</span>)
</code></pre></div><h2 id="32-修改添加和刪除元素">3.2 修改、添加和刪除元素</h2>
<p>要修改列表元素，可指定列表名和要修改的元素的索引，再指定該元素的新值。</p>
<p>方法 <code>append()</code>：給列表附加（append）元素時，它將添加到列表末尾。</p>
<p>方法 <code>insert()</code>：可在列表的任何位置添加新元素。為此，需要指定新元素的索引和值。</p>
<p><code>del</code> 語句：用於刪除列表内已知位置的元素。</p>
<p><code>del</code> 也可以刪除中間一段連續的元素，格式為：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">del</span> listname[start:end]
</code></pre></div><p>其中，<code>start</code> 表示起始索引，<code>end</code> 表示結束索引。 <code>del</code> 會刪除從索引 <code>start</code> 到 <code>end</code> 之間的元素，不包括 <code>end</code> 位置的元素。</p>
<p>方法 <code>pop()</code>：暫時彈出（pop）列表指定位置的元素。若無指定位置，則彈出末尾元素。</p>
<p>方法 <code>remove()</code>：刪除列表中已知值的元素。方法 <code>remove()</code> 只刪除第一個指定的值。如果要刪除的值可能在列表中出現多次，就需要使用循環來確保將每個值都刪除。</p>
<h4 id="練習-3-4-嘉賓名單">練習 3-4 嘉賓名單</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Khrushchev&#34;</span>, <span style="color:#e6db74">&#34;Brezhnev&#34;</span>, <span style="color:#e6db74">&#34;Gorbachev&#34;</span>]
<span style="color:#66d9ef">print</span>(name)
</code></pre></div><h4 id="練習-3-5-修改嘉賓名單">練習 3-5 修改嘉賓名單</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Khrushchev&#34;</span>, <span style="color:#e6db74">&#34;Brezhnev&#34;</span>, <span style="color:#e6db74">&#34;Gorbachev&#34;</span>]
unavailable_name <span style="color:#f92672">=</span> name[<span style="color:#ae81ff">2</span>]
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{name[3].title()} is busy to attend.&#34;</span>)
name[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Yeltsin&#34;</span> 
<span style="color:#66d9ef">print</span>(name)

</code></pre></div><h4 id="練習-3-6-添加嘉賓">練習 3-6 添加嘉賓</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Khrushchev&#34;</span>, <span style="color:#e6db74">&#34;Brezhnev&#34;</span>, <span style="color:#e6db74">&#34;Gorbachev&#34;</span>]
append_name_1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Ivasko&#34;</span>
append_name_2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Chernenko&#34;</span>
append_name_3 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Andropov&#34;</span>
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I found a bigger table so {append_name_1}, {append_name_2} and {append_name_3} can join us.&#34;</span>)
name<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">0</span>, append_name_1) 
name<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">1</span>, append_name_2) 
name<span style="color:#f92672">.</span>append(append_name_3) 
<span style="color:#66d9ef">print</span>(name)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Dear Mr. {name[0]}, I am very happy to invite you to dinner.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Dear Mr. {name[1]}, I am very happy to invite you to dinner.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Dear Mr. {name[2]}, I am very happy to invite you to dinner.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Dear Mr. {name[3]}, I am very happy to invite you to dinner.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Dear Mr. {name[4]}, I am very happy to invite you to dinner.&#34;</span>)
</code></pre></div><h4 id="練習-3-7-縮減名單">練習 3-7 縮減名單</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Khrushchev&#34;</span>, <span style="color:#e6db74">&#34;Brezhnev&#34;</span>, <span style="color:#e6db74">&#34;Gorbachev&#34;</span>]
append_name_1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Ivasko&#34;</span>
append_name_2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Chernenko&#34;</span>
append_name_3 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Andropov&#34;</span>
name<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">0</span>, append_name_1) 
name<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">1</span>, append_name_2) 
name<span style="color:#f92672">.</span>append(append_name_3) 
<span style="color:#66d9ef">print</span>(name)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Sorry sir, I can only invite two to dinner.&#34;</span>)
popped_name <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>pop()
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Sorry Mr. {popped_name}, I cannot invite you to dinner.&#34;</span>)
popped_name <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>pop()
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Sorry Mr. {popped_name}, I cannot invite you to dinner.&#34;</span>)
popped_name <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>pop()
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Sorry Mr. {popped_name}, I cannot invite you to dinner.&#34;</span>)
popped_name <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>pop()
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Sorry Mr. {popped_name}, I cannot invite you to dinner.&#34;</span>)
<span style="color:#66d9ef">print</span>(name)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Dear Mr. {name[0]}, you are still invited.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Dear Mr. {name[1]}, you are still invited.&#34;</span>)
<span style="color:#66d9ef">del</span> name[<span style="color:#ae81ff">0</span>]
<span style="color:#66d9ef">del</span> name[<span style="color:#ae81ff">0</span>]
<span style="color:#66d9ef">print</span>(name)
</code></pre></div><h2 id="33-組織列表">3.3 組織列表</h2>
<p>方法 <code>sort()</code>：對列表按照字母順序永久排序。傳遞參數 <code>reverse=True</code> 即可反向排序。</p>
<p><strong>注意</strong>，<code>sort()</code> 不可直接輸出。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">cars <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;bmw&#39;</span>, <span style="color:#e6db74">&#39;audi&#39;</span>, <span style="color:#e6db74">&#39;toyota&#39;</span>, <span style="color:#e6db74">&#39;subaru&#39;</span>]
cars<span style="color:#f92672">.</span>sort(reverse<span style="color:#f92672">=</span>True)
<span style="color:#66d9ef">print</span>(cars)
</code></pre></div><p>函數 <code>sorted()</code> 能夠按特定順序顯示列表元素，同時不影響它們在列表中的原始排列順序。如果要按與字母順序相反的順序顯示列表，也可向函數 <code>sorted()</code> 傳遞參數 <code>reverse=True</code>。</p>
<p>方法 <code>reverse()</code>：反轉列表元素的排列順序。</p>
<p>函數 <code>len()</code> ：可快速獲悉列表的長度。</p>
<h4 id="練習-3-8-放眼世界">練習 3-8 放眼世界</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">place <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Moscow&#34;</span>, <span style="color:#e6db74">&#34;Berlin&#34;</span>, <span style="color:#e6db74">&#34;Vienna&#34;</span>, <span style="color:#e6db74">&#34;London&#34;</span>]
<span style="color:#66d9ef">print</span>(place)
<span style="color:#66d9ef">print</span>(sorted(place))
<span style="color:#66d9ef">print</span>(place)
<span style="color:#66d9ef">print</span>(sorted(place))
<span style="color:#66d9ef">print</span>(sorted(place,reverse<span style="color:#f92672">=</span>True))
<span style="color:#66d9ef">print</span>(place)
place<span style="color:#f92672">.</span>reverse()
<span style="color:#66d9ef">print</span>(place)
place<span style="color:#f92672">.</span>reverse()
<span style="color:#66d9ef">print</span>(place)
place<span style="color:#f92672">.</span>sort()
<span style="color:#66d9ef">print</span>(place)
place<span style="color:#f92672">.</span>sort(reverse<span style="color:#f92672">=</span>True)
<span style="color:#66d9ef">print</span>(place)
</code></pre></div><h4 id="練習-3-9-晚餐名單">練習 3-9 晚餐名單</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Khrushchev&#34;</span>, <span style="color:#e6db74">&#34;Brezhnev&#34;</span>, <span style="color:#e6db74">&#34;Gorbachev&#34;</span>]
<span style="color:#66d9ef">print</span>(len(name))
</code></pre></div><h4 id="練習-3-10-嘗試使用各個函數">練習 3-10 嘗試使用各個函數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h2 id="34-使用列表時避免檢索錯誤">3.4 使用列表時避免檢索錯誤</h2>
<h4 id="練習-3-11-有意引發錯誤">練習 3-11 有意引發錯誤</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">motorcycles <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;honda&#39;</span>, <span style="color:#e6db74">&#39;yamaha&#39;</span>, <span style="color:#e6db74">&#39;suzuki&#39;</span>]
<span style="color:#66d9ef">print</span>(motorcycles[<span style="color:#ae81ff">3</span>])  <span style="color:#75715e"># 錯誤</span>
</code></pre></div><h1 id="第-4-章-操作列表">第 4 章 操作列表</h1>
<h2 id="41-遍歷整個列表">4.1 遍歷整個列表</h2>
<p>如果遍歷列表所有元素，對每個元素執行相同操作，可以使用 <code>for</code> 循環。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">magicians <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;alice&#39;</span>, <span style="color:#e6db74">&#39;david&#39;</span>, <span style="color:#e6db74">&#39;carolina&#39;</span>]
<span style="color:#66d9ef">for</span> magician <span style="color:#f92672">in</span> magicians:
    <span style="color:#66d9ef">print</span>(magician) 
</code></pre></div><p>如在 <code>for</code> 循環結束後需要繼續操作，則將相應的代碼放在 <code>for</code> 循環後面，且不縮進。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">magicians <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;alice&#39;</span>, <span style="color:#e6db74">&#39;david&#39;</span>, <span style="color:#e6db74">&#39;carolina&#39;</span>]
<span style="color:#66d9ef">for</span> magician <span style="color:#f92672">in</span> magicians:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{magician.title()}, that was a great trick!&#34;</span>)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I can&#39;t wait to see your next trick, {magician.title()}.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Thank you, everyone. That was a great magic show!&#34;</span>)
</code></pre></div><h2 id="42-避免縮進錯誤">4.2 避免縮進錯誤</h2>
<ul>
<li>忘記縮進；</li>
<li>忘記縮進額外的代碼行；</li>
<li>不必要的縮進；</li>
<li>循環後不必要的縮進；</li>
<li>遺漏冒號。</li>
</ul>
<h4 id="練習-4-1-披薩">練習 4-1 披薩</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">pizzas <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;pepperon&#34;</span>, <span style="color:#e6db74">&#34;veggie lover&#39;s&#34;</span>, <span style="color:#e6db74">&#34;curry chicken&#34;</span>]
<span style="color:#66d9ef">for</span> pizza <span style="color:#f92672">in</span> pizzas:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I really like {pizza.title()} pizza!&#34;</span>)

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">I really love pizza!&#34;</span>)
</code></pre></div><h4 id="練習從4-2-動物">練習從4-2 動物</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">animals <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;dog&#34;</span>, <span style="color:#e6db74">&#34;pig&#34;</span>, <span style="color:#e6db74">&#34;tiger&#34;</span>]
<span style="color:#66d9ef">for</span> animal <span style="color:#f92672">in</span> animals:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;A {animal} would be a good pet.&#34;</span>)

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Any of these animals would make a great pet!&#34;</span>)
</code></pre></div><h2 id="43-創建數值表">4.3 創建數值表</h2>
<p>函數 <code>range()</code> 可以輕鬆生成一系列數。如生成數字 <code>1~4</code> ：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>): 
    <span style="color:#66d9ef">print</span>(value)
</code></pre></div><p>注意編程語言中常見的<strong>差一行爲</strong>。</p>
<p>調用函數 <code>range()</code> 時，也可只指定一個參數，這樣它將從 <code>0</code> 開始。例如，<code>range(6)</code> 返回數 <code>0~5</code>。</p>
<p>若要將 <code>range()</code> 的數轉換爲列表，可使用 <code>list()</code> 。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> list(range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>))
<span style="color:#66d9ef">print</span>(numbers) 
</code></pre></div><p>函數 <code>range()</code> 可在第三個參數指定步長，如輸出 <code>1~10</code> 的偶數：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">even_numbers <span style="color:#f92672">=</span> list(range(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">2</span>))
<span style="color:#66d9ef">print</span>(even_number)
</code></pre></div><p>函數 <code>min(digits)</code>、<code>max(digits)</code>、<code>sum(digits)</code> 分別用於找出數字列表的最大值、最小值和總和。</p>
<h4 id="練習-4-3-數到-20">練習 4-3 數到 20</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">21</span>)
<span style="color:#66d9ef">for</span> number <span style="color:#f92672">in</span> numbers:
    <span style="color:#66d9ef">print</span>(number)
</code></pre></div><h4 id="練習-4-4-一百萬">練習 4-4 一百萬</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1000001</span>)
<span style="color:#66d9ef">for</span> number <span style="color:#f92672">in</span> numbers:
    <span style="color:#66d9ef">print</span>(number)
</code></pre></div><h4 id="練習-4-5-一百萬求和">練習 4-5 一百萬求和</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> list(range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1000001</span>))
<span style="color:#66d9ef">print</span>(min(numbers))
<span style="color:#66d9ef">print</span>(max(numbers))
<span style="color:#66d9ef">print</span>(sum(numbers))
</code></pre></div><h4 id="練習-4-6-奇數">練習 4-6 奇數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">21</span>,<span style="color:#ae81ff">2</span>)
<span style="color:#66d9ef">for</span> number <span style="color:#f92672">in</span> numbers:
    <span style="color:#66d9ef">print</span>(number)
</code></pre></div><h4 id="練習-4-7-3-的倍數">練習 4-7 3 的倍數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">3</span>)
<span style="color:#66d9ef">for</span> number <span style="color:#f92672">in</span> numbers:
    <span style="color:#66d9ef">print</span>(number)
</code></pre></div><h4 id="練習-4-8-立方">練習 4-8 立方</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">11</span>):
    numbers<span style="color:#f92672">.</span>append(value <span style="color:#f92672">**</span> <span style="color:#ae81ff">3</span>)

<span style="color:#66d9ef">print</span>(numbers)
</code></pre></div><h4 id="練習-4-9-立方解析">練習 4-9 立方解析</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> [ value<span style="color:#f92672">**</span><span style="color:#ae81ff">3</span> <span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">11</span>)]
<span style="color:#66d9ef">print</span>(numbers)
</code></pre></div><h2 id="44-使用列表的一部分">4.4 使用列表的一部分</h2>
<p>要創建切片，可指定要使用的第一個元素和最後一個元素的索引。與函數從 <code>range()</code> 一樣，Python 在到達第二個索引之前的元素後停止。如果沒有指定第一個索引，Python將自動從列表開頭開始。要讓切片終止於列表末尾，也可使用類似的語法。負數索引返回離列表末尾相應距離的元素。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">players <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;charles&#39;</span>, <span style="color:#e6db74">&#39;martina&#39;</span>, <span style="color:#e6db74">&#39;michael&#39;</span>, <span style="color:#e6db74">&#39;florence&#39;</span>, <span style="color:#e6db74">&#39;eli&#39;</span>]
<span style="color:#66d9ef">print</span>(players[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">3</span>])
<span style="color:#66d9ef">print</span>(players[:<span style="color:#ae81ff">4</span>])
<span style="color:#66d9ef">print</span>(players[<span style="color:#ae81ff">2</span>:])
<span style="color:#66d9ef">print</span>(players[<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>:])
</code></pre></div><p>如果要遍歷列表的部分元素，可在 <code>for</code> 循環中使用切片。</p>
<p>要復制列表，可創建一個包含整個列表的切片，方法是同時省略起始索引和終止索引 <code>[:]</code> 。這讓Python 創建一個始於第一個元素、終止於最後一個元素的切片，即整個列表的副本。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">friend_foods <span style="color:#f92672">=</span> my_foods[:]
<span style="color:#75715e"># NOT friend_foods = my_foods </span>
<span style="color:#75715e"># 錯誤処將 my_foods 賦給 friend_foods，而不是將 my_foods 的副本賦給 friend_foods。</span>
</code></pre></div><h4 id="練習-4-10-切片">練習 4-10 切片</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">number <span style="color:#f92672">=</span> [value <span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">11</span>)]
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The first three items in the list are: {number[:3]}&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Three items from the middle of the list are: {number[3:5]}&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The last three items in the list are: {number[-3:]}&#34;</span>)
</code></pre></div><h4 id="練習-4-11-你的披薩我的披薩">練習 4-11 你的披薩，我的披薩</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">pizzas <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;pepperon&#34;</span>, <span style="color:#e6db74">&#34;veggie lover&#39;s&#34;</span>, <span style="color:#e6db74">&#34;curry chicken&#34;</span>]
friend_pizzas <span style="color:#f92672">=</span> pizzas[:]
pizzas<span style="color:#f92672">.</span>append(<span style="color:#e6db74">&#34;i dont know pizza name 1&#34;</span>)
friend_pizzas<span style="color:#f92672">.</span>append(<span style="color:#e6db74">&#34;i dont know pizza name 2&#34;</span>)

pizza <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> pizzas[:]:
    pizza<span style="color:#f92672">.</span>append(value)

<span style="color:#66d9ef">print</span>(pizza)

friend_pizza <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> friend_pizzas[:]:
    friend_pizza<span style="color:#f92672">.</span>append(value)
    
<span style="color:#66d9ef">print</span>(friend_pizza)
</code></pre></div><h4 id="練習-4-12-使用多個循環">練習 4-12 使用多個循環</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">my_foods <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;pizza&#39;</span>, <span style="color:#e6db74">&#39;falafel&#39;</span>, <span style="color:#e6db74">&#39;carrot cake&#39;</span>]
friend_foods <span style="color:#f92672">=</span> my_foods[:]
my_foods <span style="color:#f92672">=</span> [my_food <span style="color:#66d9ef">for</span> my_food <span style="color:#f92672">in</span> my_foods[:]]
friend_foods <span style="color:#f92672">=</span> [friend_food <span style="color:#66d9ef">for</span> friend_food <span style="color:#f92672">in</span> friend_foods[:]]
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My favorite foods are: {my_foods}&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My friend&#39;s favorite foods are: {friend_foods}&#34;</span>)
</code></pre></div><h2 id="45-元組">4.5 元組</h2>
<p>元組適合用來儲存一系列不可修改的元素。元組看起來很像清單，<strong>但使用圓括號而不是中括號來標識</strong>。定義元組後，就可以使用索引來訪問其元素，就像訪問列表元素一樣。如</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dimensions <span style="color:#f92672">=</span> (<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">50</span>)
<span style="color:#66d9ef">print</span>(dimensions[<span style="color:#ae81ff">0</span>])
<span style="color:#66d9ef">print</span>(dimensions[<span style="color:#ae81ff">1</span>])
</code></pre></div><p>像列表一樣，也可以為循環來遍曆元組中的所有值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dimensions <span style="color:#f92672">=</span> (<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">50</span>)
<span style="color:#66d9ef">for</span> dimension <span style="color:#f92672">in</span> dimensions:
    <span style="color:#66d9ef">print</span>(dimension) 
</code></pre></div><p>雖不可修改元組的元素，但可以給儲存元組的變量賦值。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dimensions <span style="color:#f92672">=</span> (<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">50</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Original dimensions:&#34;</span>)
<span style="color:#66d9ef">for</span> dimension <span style="color:#f92672">in</span> dimensions:
    <span style="color:#66d9ef">print</span>(dimension)
    
dimensions <span style="color:#f92672">=</span> (<span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">100</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Modified dimensions:&#34;</span>)
<span style="color:#66d9ef">for</span> dimension <span style="color:#f92672">in</span> dimensions:
    <span style="color:#66d9ef">print</span>(dimension)
</code></pre></div><h4 id="練習-4-13-自助餐">練習 4-13 自助餐</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">foods <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>)
<span style="color:#66d9ef">for</span> food <span style="color:#f92672">in</span> foods:
    <span style="color:#66d9ef">print</span>(food)

modified_foods <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>)
<span style="color:#66d9ef">for</span> modified_food <span style="color:#f92672">in</span> modified_foods:
    <span style="color:#66d9ef">print</span>(modified_food)
</code></pre></div><h2 id="46-設置代碼格式">4.6 設置代碼格式</h2>
<p>代碼應當易於閲讀。</p>
<p>建議每級縮進都使用四個空格。在程序中混合使用製表符和空格可能導致極難排查的問題。如果混合使用了製表符和空格，可將文件中的所有製表符都轉換為空格。</p>
<p>建议每行不超过80字符。</p>
<p>要將程序的不同部分分開，可使用空行。</p>
<h1 id="第-5-章-if-語句">第 5 章 <code>if</code> 語句</h1>
<h2 id="51-一個簡單的實例">5.1 一個簡單的實例</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">cars <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;audi&#39;</span>, <span style="color:#e6db74">&#39;bmw&#39;</span>, <span style="color:#e6db74">&#39;subaru&#39;</span>, <span style="color:#e6db74">&#39;toyota&#39;</span>]

<span style="color:#66d9ef">for</span> car <span style="color:#f92672">in</span> cars:
    <span style="color:#66d9ef">if</span> car <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;bmw&#39;</span>:
        <span style="color:#66d9ef">print</span>(car<span style="color:#f92672">.</span>upper())
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(car<span style="color:#f92672">.</span>title())
</code></pre></div><h2 id="52-條件測試">5.2 條件測試</h2>
<p>要判斷兩個值是否不等，可以結合使用驚嘆號和等號 <code>!=</code>，其中的驚嘆號 <code>!</code> 表示不，其他很多編程語言中亦是如此。</p>
<p>使用關鍵字 <code>or</code> 檢查多個條件時，只要至少有一個條件滿足就能通過整個測試。</p>
<h4 id="練習-5-1-條件測試">練習 5-1 條件測試</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">car <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;subaru&#39;</span>
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Is car == &#39;subaru&#39;? I predict True.&#34;</span>)
<span style="color:#66d9ef">print</span>(car <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;subaru&#39;</span>)

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Is car == &#39;audi&#39;? I predict False.&#34;</span>)
<span style="color:#66d9ef">print</span>(car <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;audi&#39;</span>)
</code></pre></div><h4 id="練習-5-2-更多條件測試">練習 5-2 更多條件測試</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h2 id="53-if-測試">5.3 <code>if</code> 測試</h2>
<p>最簡單的 <code>if</code> 語句只有一個測試和一個操作。第一行可包含任何條件測試，而在緊跟在測試後面的縮進代碼塊中，可執行任何操作。如果條件測試的結果為 True，Python 就會執行緊跟在 <code>if</code> 語句後面的代碼，否則 Python 將忽略這些代碼。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">age  <span style="color:#f92672">=</span>  <span style="color:#ae81ff">19</span>
<span style="color:#66d9ef">if</span> age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You are old enough to vote!&#34;</span>)
</code></pre></div><p>需要在條件測試通過時執行一個操作、在沒有通過時執行另一個操作時，可使用 Python 提供的 <code>if-else</code> 語句。 <code>if-else</code> 語句塊類似於簡單的if語句，但其中的 <code>else</code> 語句能夠指定條件測試未通過時要執行的操作。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">age <span style="color:#f92672">=</span> <span style="color:#ae81ff">17</span>
<span style="color:#66d9ef">if</span> age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You are old enough to vote!&#34;</span>)
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Have you registered to vote yet?&#34;</span>)
<span style="color:#66d9ef">else</span>: 
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Sorry, you are too young to vote.&#34;</span>)
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Please register to vote as soon as you turn 18!&#34;</span>)
</code></pre></div><p>在需要檢查超過兩個的情形的時候可使用 Python 提供的 <code>if-elif-else</code> 結構。 Python 只執行 <code>if-elif-else</code> 結構中的一個代碼塊。它依次檢查每個條件測試，直到遇到通過了的條件測試。測試通過後，Python 將執行緊跟在它後面的代碼，並跳過餘下的測試。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">age  <span style="color:#f92672">=</span>  <span style="color:#ae81ff">12</span>
<span style="color:#66d9ef">if</span> age <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Your admission cost is $0.&#34;</span>)
<span style="color:#66d9ef">elif</span> age <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">18</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Your admission cost is $25.&#34;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Your admission cost is $40.&#34;</span>)
</code></pre></div><p>上面實例也可簡化為：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">age <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>
<span style="color:#66d9ef">if</span> age <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>:
    price <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">elif</span> age <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">18</span>:
    price <span style="color:#f92672">=</span> <span style="color:#ae81ff">25</span>
<span style="color:#66d9ef">else</span>:
    price <span style="color:#f92672">=</span> <span style="color:#ae81ff">40</span>

<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Your admission cost is ${price}.&#34;</span>) 
</code></pre></div><p>可根據需要使用任意數量的 <code>elif</code> 代碼塊。Python 並不要求 <code>if-elif</code> 結構後面必須有 <code>else</code> 代碼塊，按需使用。</p>
<p><code>if-elif-else</code> 结构功能强大，但仅适合用于只有一个条件满足的情况：遇到通过了的测试后，Python 就跳过余下的测试。儅必须检查关心的所有条件時，应使用一系列不包含 <code>elif</code> 和 <code>else</code> 代码块的简单 <code>if</code> 语句。</p>
<h4 id="練習-5-3-外星人顔色">練習 5-3 外星人顔色</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;red&#34;</span>
<span style="color:#66d9ef">if</span> colour <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;green&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 5 score!&#34;</span>)

colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;red&#34;</span>
<span style="color:#66d9ef">if</span> colour <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;red&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 5 score!&#34;</span>)
</code></pre></div><h4 id="練習-5-4-外星人顔色-2">練習 5-4 外星人顔色 2</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;red&#34;</span>
<span style="color:#66d9ef">if</span> colour <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;green&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 5 score!&#34;</span>)
<span style="color:#66d9ef">if</span> colour <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;green&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 10 score!&#34;</span>)

<span style="color:#75715e">## 第二個版本</span>
colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;red&#34;</span>
<span style="color:#66d9ef">if</span> colour <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;green&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 5 score!&#34;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 10 score!&#34;</span>)
</code></pre></div><h4 id="練習-5-5-外星人顔色-3">練習 5-5 外星人顔色 3</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;red&#34;</span>
<span style="color:#66d9ef">if</span> colour <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;green&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 5 score!&#34;</span>)
<span style="color:#66d9ef">elif</span> colour <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;yellow&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 10 score!&#34;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You get 15 score!&#34;</span>)
</code></pre></div><h4 id="練習-5-6-人生的不同階段">練習 5-6 人生的不同階段</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">age <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;48&#34;</span>
<span style="color:#66d9ef">if</span> age <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;2&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;嬰兒&#34;</span>)
<span style="color:#66d9ef">elif</span> <span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#f92672">&lt;=</span> age <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;4&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;小屁孩&#34;</span>)
<span style="color:#66d9ef">elif</span> <span style="color:#e6db74">&#34;4&#34;</span> <span style="color:#f92672">&lt;=</span> age <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;13&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;兒童&#34;</span>)
<span style="color:#66d9ef">elif</span> <span style="color:#e6db74">&#34;13&#34;</span> <span style="color:#f92672">&lt;=</span> age <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;20&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;青少年&#34;</span>)
<span style="color:#66d9ef">elif</span> <span style="color:#e6db74">&#34;20&#34;</span> <span style="color:#f92672">&lt;=</span> age <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;65&#34;</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;成年人&#34;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;老年人&#34;</span>)
</code></pre></div><h4 id="練習-5-7-喜歡的水果">練習 5-7 喜歡的水果</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">favorite_fruits <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;apple&#34;</span>, <span style="color:#e6db74">&#34;balana&#34;</span>, <span style="color:#e6db74">&#34;orange&#34;</span>]
<span style="color:#66d9ef">for</span> favorite_fruit <span style="color:#f92672">in</span> favorite_fruits:
    <span style="color:#66d9ef">if</span> favorite_fruit <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;balana&#34;</span>:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You really like bananas!&#34;</span>)
</code></pre></div><h2 id="54-使用-if-語句處理列表">5.4 使用 <code>if</code> 語句處理列表</h2>
<h4 id="練習-5-8-以特殊方式跟管理員打招呼">練習 5-8 以特殊方式跟管理員打招呼</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">usernames <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;admin&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>]
<span style="color:#66d9ef">for</span> username <span style="color:#f92672">in</span> usernames:
    <span style="color:#66d9ef">if</span> username <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;admin&#34;</span>:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Hello admin, would you like to see a status report? &#34;</span>)
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Hello Jaden, thank you for logging in again.&#34;</span>)
</code></pre></div><h4 id="練習-5-9-處理沒有用戶的情形">練習 5-9 處理沒有用戶的情形</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">usernames <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">if</span> usernames:
    <span style="color:#66d9ef">for</span> username <span style="color:#f92672">in</span> usernames:
        <span style="color:#66d9ef">print</span>(username)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Are you sure you want a plain username?&#34;</span>)

</code></pre></div><h4 id="練習-5-10-檢查用戶名">練習 5-10 檢查用戶名</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">current_users <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;admin&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>]
new_users <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>, <span style="color:#e6db74">&#34;e&#34;</span>, <span style="color:#e6db74">&#34;f&#34;</span>, <span style="color:#e6db74">&#34;g&#34;</span>, ]

</code></pre></div><h4 id="練習-5-11-序數">練習 5-11 序數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">num <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
list <span style="color:#f92672">=</span> list(range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">10</span>))
<span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> list:
    <span style="color:#66d9ef">if</span> value <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{num}th&#34;</span>)
        num <span style="color:#f92672">=</span> num <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">elif</span> value <span style="color:#f92672">==</span> <span style="color:#ae81ff">9</span>:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;9th&#34;</span>)
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;I do not know how to do this.&#34;</span>)
</code></pre></div><h2 id="設置-if-語句的格式">設置 <code>if</code> 語句的格式</h2>
<p>一定要有良好的設置習慣。</p>
<h4 id="練習-5-12-設置-if-語句的格式">練習 5-12 設置 <code>if</code> 語句的格式</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-5-13-自己的想法">練習 5-13 自己的想法</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h1 id="第-6-章-字典">第 6 章 字典</h1>
<h2 id="61-一個簡單的字典">6.1 一個簡單的字典</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">alien_0 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;color&#39;</span>: <span style="color:#e6db74">&#39;green&#39;</span>, <span style="color:#e6db74">&#39;points&#39;</span>: <span style="color:#ae81ff">5</span>}

<span style="color:#66d9ef">print</span>(alien_0[<span style="color:#e6db74">&#39;color&#39;</span>])
<span style="color:#66d9ef">print</span>(alien_0[<span style="color:#e6db74">&#39;points&#39;</span>])
</code></pre></div><h2 id="62-使用字典">6.2 使用字典</h2>
<p>在Python中，字典是一系列鍵值對。每個鍵都與一個值相關聯，可使用鍵來訪問相關聯的值。與鍵相關聯的值可以是數、字符串、列表乃至字典。事實上，可將任何Python對像用作字典中的值。</p>
<p>在Python中，字典用放在花括號 <code>{}</code> 中的一系列鍵值對錶示。</p>
<p>鍵值對是兩個相關聯的值。指定鍵時，Python將返回與之相關聯的值。鍵和值之間用冒號分隔，而鍵值對之間用逗號分隔。在字典中，想存儲多少個鍵值對都可以。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">alien_0 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;color&#39;</span>: <span style="color:#e6db74">&#39;green&#39;</span>, <span style="color:#e6db74">&#39;points&#39;</span>: <span style="color:#ae81ff">5</span>}
</code></pre></div><p>在該字典中，字符串 <code>color</code> 是一個鍵，與之相關聯的值為 <code>green</code>。</p>
<p>要獲取與鍵相關聯的值，可依次指定字典名和放在方括號內的鍵。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">alien_0 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;color&#39;</span>: <span style="color:#e6db74">&#39;green&#39;</span>, <span style="color:#e6db74">&#39;points&#39;</span>: <span style="color:#ae81ff">5</span>}
new_points <span style="color:#f92672">=</span> alien_0[<span style="color:#e6db74">&#39;points&#39;</span>]
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;You just earned {new_points} points!&#34;</span>) 
</code></pre></div><p>字典是一種動態結構，可隨時在其中添加鍵值對。要添加鍵值對，可依次指定字典名、用方括號括起的鍵和相關聯的值。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">alien_0 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;color&#39;</span>: <span style="color:#e6db74">&#39;green&#39;</span>, <span style="color:#e6db74">&#39;points&#39;</span>: <span style="color:#ae81ff">5</span>}
<span style="color:#66d9ef">print</span>(alien_0)

alien_0[<span style="color:#e6db74">&#39;x_position&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
alien_0[<span style="color:#e6db74">&#39;y_position&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">25</span>
<span style="color:#66d9ef">print</span>(alien_0)
</code></pre></div><p>在空字典中添加鍵值對有時候可提供便利，而有時候必須這樣做。為此，可先使用一對空花括號定義一個字典，再分行添加各個鍵值對。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">alien_0  <span style="color:#f92672">=</span>  {}

alien_0[<span style="color:#e6db74">&#39;color&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;green&#39;</span>
alien_0[<span style="color:#e6db74">&#39;points&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>

<span style="color:#66d9ef">print</span>(alien_0) 
</code></pre></div><p>要修改字典中的值，可依次指定字典名、用方括號括起的鍵，以及與該鍵相關聯的新值。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">alien_0 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;color&#39;</span>: <span style="color:#e6db74">&#39;green&#39;</span>}
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The alien is {alien_0[&#39;color&#39;]}.&#34;</span>)

alien_0[<span style="color:#e6db74">&#39;color&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;yellow&#39;</span>
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The alien is now {alien_0[&#39;color&#39;]}.&#34;</span>) 
</code></pre></div><p>對於字典中不再需要的信息，可使用del語句將相應的鍵值對徹底刪除。使用del語句時，必須指定字典名和要刪除的鍵。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">alien_0 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;color&#39;</span>: <span style="color:#e6db74">&#39;green&#39;</span>, <span style="color:#e6db74">&#39;points&#39;</span>: <span style="color:#ae81ff">5</span>}
<span style="color:#66d9ef">print</span>(alien_0)

<span style="color:#66d9ef">del</span> alien_0[<span style="color:#e6db74">&#39;points&#39;</span>]
<span style="color:#66d9ef">print</span>(alien_0)
</code></pre></div><p>方法 <code>get()</code> 的第一個參數用於指定鍵，是必不可少的；第二個參數為指定的鍵不存在時要返回的值，是可選的。調用 <code>get()</code> 時，如果沒有指定第二個參數且指定的鍵不存在，Python 將返回值 <code>None</code>。這個特殊值表示沒有相應的值。</p>
<h4 id="練習-6-1-人">練習 6-1 人</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">info <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;first_name&#34;</span> : <span style="color:#e6db74">&#34;m&#34;</span>, <span style="color:#e6db74">&#34;last_name&#34;</span> : <span style="color:#e6db74">&#34;c&#34;</span>,  <span style="color:#e6db74">&#34;age&#34;</span>: <span style="color:#e6db74">&#34;99&#34;</span>, <span style="color:#e6db74">&#34;city&#34;</span> : <span style="color:#e6db74">&#34;Beijing&#34;</span>}
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My first name is {info[&#39;first_name&#39;].title()}, &#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My last name is {info[&#39;last_name&#39;].title()}, &#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I am {info[&#39;age&#39;]} y.o.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;and I am living in {info[&#39;city&#39;]}.&#34;</span>)
</code></pre></div><h4 id="練習-6-2-喜歡的數">練習 6-2 喜歡的數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">num <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;a&#34;</span> : <span style="color:#e6db74">&#34;1&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span> : <span style="color:#e6db74">&#34;2&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span> : <span style="color:#e6db74">&#34;3&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span> : <span style="color:#e6db74">&#34;4&#34;</span>, <span style="color:#e6db74">&#34;e&#34;</span> : <span style="color:#e6db74">&#34;5&#34;</span>, }
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;A&#39;s favourite number is {num[&#39;a&#39;]},&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;B&#39;s favourite number is {num[&#39;b&#39;]},&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;C&#39;s favourite number is {num[&#39;c&#39;]},&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;D&#39;s favourite number is {num[&#39;d&#39;]},&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;E&#39;s favourite number is {num[&#39;e&#39;]}.&#34;</span>)
</code></pre></div><h4 id="練習-6-3-詞匯表">練習 6-3 詞匯表</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h2 id="63-遍歷字典">6.3 遍歷字典</h2>
<p>要編寫遍歷字典的 <code>for</code> 循環，可聲明兩個變量，用於存儲鍵值對中的鍵和值。這兩個變量可以使用任意名稱。對於語句的第二部分包含字典名和方法 <code>items()</code>，它返回一個鍵值對列表。接下來，對於循環依次將每個鍵值對賦值給指定的兩個變量。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">user_0 <span style="color:#f92672">=</span> {
    <span style="color:#e6db74">&#39;username&#39;</span>: <span style="color:#e6db74">&#39;efermi&#39;</span>,
    <span style="color:#e6db74">&#39;first&#39;</span>: <span style="color:#e6db74">&#39;enrico&#39;</span>,
    <span style="color:#e6db74">&#39;last&#39;</span>: <span style="color:#e6db74">&#39;fermi&#39;</span>,
    }
<span style="color:#66d9ef">for</span> key, value <span style="color:#f92672">in</span> user_0<span style="color:#f92672">.</span>items():
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Key: {key}&#34;</span>)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Value: {value}&#34;</span>)
</code></pre></div><p>在不需要使用字典中的值時可以使用方法 <code>keys()</code>。</p>
<p>要以特定順序返回元素，一種辦法是在for循環中對返回的鍵進行排序。為此，可使用函數 <code>sorted()</code> 來獲得按特定順序排列的鍵列表的副本。</p>
<p>如果主要對字典包含的值感興趣，可使用方法 <code>values()</code> 來返回一個值列表，不包含任何鍵。為剔除重複項，可使用集合 <code>set</code>。集合中的每個元素都必須是獨一無二的。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">favorite_languages <span style="color:#f92672">=</span> {
    <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>
    }

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;The following languages have been mentioned:&#34;</span>)
<span style="color:#66d9ef">for</span> language <span style="color:#f92672">in</span> set(favorite_languages<span style="color:#f92672">.</span>values()):
    <span style="color:#66d9ef">print</span>(language<span style="color:#f92672">.</span>title()
</code></pre></div><h4 id="練習-6-4-詞匯表-2">練習 6-4 詞匯表 2</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-6-5-河流">練習 6-5 河流</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">rivers <span style="color:#f92672">=</span> {
    <span style="color:#e6db74">&#39;nile&#39;</span>: <span style="color:#e6db74">&#39;egypt&#39;</span>,
    <span style="color:#e6db74">&#39;amazon&#39;</span>: <span style="color:#e6db74">&#39;brazil&#39;</span>,
    <span style="color:#e6db74">&#39;yangtze&#39;</span>: <span style="color:#e6db74">&#39;china&#39;</span>,
}
<span style="color:#66d9ef">for</span> river, country <span style="color:#f92672">in</span> rivers<span style="color:#f92672">.</span>items():
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The {river.title()} runs through {country.title()}.&#34;</span>)

</code></pre></div><h4 id="練習-6-6-調查">練習 6-6 調查</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">favorite_languages <span style="color:#f92672">=</span> {
    <span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#e6db74">&#39;python&#39;</span>,
    <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#e6db74">&#39;go&#39;</span>,
    <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#e6db74">&#39;julia&#39;</span>,
}
people <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>]

<span style="color:#66d9ef">for</span> person <span style="color:#f92672">in</span> favorite_languages<span style="color:#f92672">.</span>keys():
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Hi {person.title()}, thank you for participating in our survey.&#34;</span>)

<span style="color:#66d9ef">print</span>()

<span style="color:#66d9ef">for</span> person <span style="color:#f92672">in</span> people:
    <span style="color:#66d9ef">if</span> person <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> favorite_languages<span style="color:#f92672">.</span>keys():
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Hey {person.title()}, would you like to participate in our survey?&#34;</span>)
</code></pre></div><h2 id="64-嵌套">6.4 嵌套</h2>
<p>有時候，需要將一系列字典存儲在列表中，或將列表作為值存儲在字典中，這稱為嵌套。</p>
<h4 id="練習-6-7-人們">練習 6-7 人們</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">info1 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;first_name&#34;</span> : <span style="color:#e6db74">&#34;m&#34;</span>, <span style="color:#e6db74">&#34;last_name&#34;</span> : <span style="color:#e6db74">&#34;c&#34;</span>,  <span style="color:#e6db74">&#34;age&#34;</span>: <span style="color:#e6db74">&#34;99&#34;</span>, <span style="color:#e6db74">&#34;city&#34;</span> : <span style="color:#e6db74">&#34;beijing&#34;</span>}
info2 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;first_name&#34;</span> : <span style="color:#e6db74">&#34;z&#34;</span>, <span style="color:#e6db74">&#34;last_name&#34;</span> : <span style="color:#e6db74">&#34;y&#34;</span>,  <span style="color:#e6db74">&#34;age&#34;</span>: <span style="color:#e6db74">&#34;98&#34;</span>, <span style="color:#e6db74">&#34;city&#34;</span> : <span style="color:#e6db74">&#34;xinyang&#34;</span>}
info3 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;first_name&#34;</span> : <span style="color:#e6db74">&#34;k&#34;</span>, <span style="color:#e6db74">&#34;last_name&#34;</span> : <span style="color:#e6db74">&#34;m&#34;</span>,  <span style="color:#e6db74">&#34;age&#34;</span>: <span style="color:#e6db74">&#34;97&#34;</span>, <span style="color:#e6db74">&#34;city&#34;</span> : <span style="color:#e6db74">&#34;puyang&#34;</span>}
persons <span style="color:#f92672">=</span> [info1, info2, info3]

people <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> person <span style="color:#f92672">in</span> persons:
    people<span style="color:#f92672">.</span>append(person)

<span style="color:#66d9ef">for</span> person <span style="color:#f92672">in</span> people:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{person[&#39;first_name&#39;].title()}{person[&#39;last_name&#39;].title()} is {person[&#39;age&#39;]} y.o and lived in {person[&#39;city&#39;].title()}.&#34;</span>)
</code></pre></div><h4 id="練習-6-8-寵物">練習 6-8 寵物</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 類似 6-7</span>
</code></pre></div><h4 id="練習-6-9-喜歡的地方">練習 6-9 喜歡的地方</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">favorite_places <span style="color:#f92672">=</span> {
    <span style="color:#e6db74">&#34;mc&#34;</span> : [<span style="color:#e6db74">&#34;moscow&#34;</span>, <span style="color:#e6db74">&#34;warsaw&#34;</span>, <span style="color:#e6db74">&#34;berlin&#34;</span>],
    <span style="color:#e6db74">&#34;km&#34;</span> : [<span style="color:#e6db74">&#34;beijing&#34;</span>, <span style="color:#e6db74">&#34;new york&#34;</span>],
    <span style="color:#e6db74">&#34;yd&#34;</span> : [<span style="color:#e6db74">&#34;singapore&#34;</span>],
}

<span style="color:#66d9ef">for</span> person, favorite_place <span style="color:#f92672">in</span> favorite_places<span style="color:#f92672">.</span>items():
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{person.title()}&#39;s favorite places are: &#34;</span>)
    <span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> favorite_place:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">{value.title()}&#34;</span>)
</code></pre></div><h4 id="練習-6-10-喜歡的數-2">練習 6-10 喜歡的數 2</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 類似 6-9</span>
</code></pre></div><h4 id="練習-6-11-城市">練習 6-11 城市</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 類似 6-9</span>
</code></pre></div><h4 id="練習-6-12-擴展">練習 6-12 擴展</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h1 id="第-7-章-用戶輸入和-while-循環">第 7 章 用戶輸入和 <code>while</code> 循環</h1>
<h2 id="71-函數-input-的工作原理">7.1 函數 <code>input()</code> 的工作原理</h2>
<p>函數 <code>input()</code> 讓程序暫停運行，等待用戶輸入一些文本。獲取用戶輸入後，Python 將其賦給一個變量，以方便你使用。</p>
<p>Pwd@Linux
每當使用函數 <code>input()</code> 時，都應指定清晰易懂的提示，準確地指出希望用戶提供什麼樣的信息——指出用戶應該輸入何種信息的任何提示都行。</p>
<p>通過在提示末尾包含一個空格，可將提示與用戶輸入分開，讓用戶清楚地知道其輸入始於何處。</p>
<p>使用函數 <code>input()</code> 時，Python 將用戶輸入解讀為字符串。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> age <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;How old are you? &#34;</span>)
How old are you<span style="color:#960050;background-color:#1e0010">?</span> <span style="color:#ae81ff">21</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> age
<span style="color:#e6db74">&#39;21&#39;</span> 
</code></pre></div><p>為解決這個問題，可使用函數 <code>int()</code>，它讓Python將輸入視為數值。函數 <code>int()</code> 將數的字符串表示轉換為數值表示，如:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> age <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;How old are you? &#34;</span>)
How old are you<span style="color:#960050;background-color:#1e0010">?</span> <span style="color:#ae81ff">21</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> age <span style="color:#f92672">=</span> int(age)
<span style="color:#f92672">&gt;&gt;&gt;</span> age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span>
True
</code></pre></div><p>理數值信息時，求模運算符 <code>%</code> 將兩個數相除並返回餘數。可使用求模運算符來判斷一個數是奇數還是偶數，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">number <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Enter a number, and I&#39;ll tell you if it&#39;s even or odd: &#34;</span>)
number <span style="color:#f92672">=</span> int(number)
<span style="color:#66d9ef">if</span> number <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">The number {number} is even.&#34;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">The number {number} is odd.&#34;</span>)
</code></pre></div><h4 id="練習-7-1-汽車租賃">練習 7-1 汽車租賃</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">car <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Which car would you like to rent: &#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Let me see if I can find you a {car.title()}.&#34;</span>)
</code></pre></div><h4 id="練習-7-2-餐館訂位">練習 7-2 餐館訂位</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">num <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;How many people will be dining?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
num <span style="color:#f92672">=</span> int(num)
<span style="color:#66d9ef">if</span> num <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">8</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;There are no more spaces here.&#34;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;There is enough free space here.&#34;</span>)
</code></pre></div><h4 id="練習-7-3-10-的整倍數">練習 7-3 10 的整倍數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">num <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;You can enter any number here!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
num <span style="color:#f92672">=</span> int(num)

<span style="color:#66d9ef">if</span> num <span style="color:#f92672">%</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;This number is an integer multiple of 10.&#34;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;This number is not an integer multiple of 10.&#34;</span>)
</code></pre></div><h2 id="72-while-循環簡介">7.2 <code>while</code> 循環簡介</h2>
<p><code>for</code> 循環用於針對集合中的每個元素都執行一個代碼塊，而 <code>while</code> 循環則不斷運行，直到指定的條件不滿足為止。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">prompt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Tell me something, and I will repeat it back to you:&#34;</span>
prompt <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Enter &#39;quit&#39; to end the program. &#34;</span>

active <span style="color:#f92672">=</span> True
<span style="color:#66d9ef">while</span> active:
    message <span style="color:#f92672">=</span> input(prompt)
    
    <span style="color:#66d9ef">if</span> message <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;quit&#39;</span>:
        active <span style="color:#f92672">=</span> False
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(message)
</code></pre></div><p>要立即退出 <code>while</code> 循環，不再運行循環中餘下的代碼，也不管條件測試的結果如何，可使用 <code>break</code> 語句。 <code>break</code> 語句用於控製程序流程，可用來控制哪些代碼行將執行、哪些代碼行不執行，從而讓程序按你的要求執行你要執行的代碼。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">prompt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Please enter the name of a city you have visited:&#34;</span>
prompt <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">(Enter &#39;quit&#39; when you are finished.) &#34;</span>

<span style="color:#66d9ef">while</span> True:
    city <span style="color:#f92672">=</span> input(prompt)
    
    <span style="color:#66d9ef">if</span> city <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;quit&#39;</span>:
        <span style="color:#66d9ef">break</span>
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I&#39;d love to go to {city.title()}!&#34;</span>) 
</code></pre></div><p>要返回循環開頭，並根據條件測試結果決定是否繼續執行循環，可使用 <code>continue</code> 語句，它不像 <code>break</code> 語句那樣不再執行餘下的代碼並退出整個循環。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">current_number <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">while</span> current_number <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>:
    current_number <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">if</span> current_number <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
        <span style="color:#66d9ef">continue</span>
    
    <span style="color:#66d9ef">print</span>(current_number) 
</code></pre></div><p>每個 <code>while</code> 循環都必須有停止運行的途徑，這樣才不會沒完沒了地執行下去。</p>
<p><code>current_number = current_number + 1</code> 可簡寫為 <code>current_number += 1</code>。</p>
<h4 id="練習-7-4-披薩配料">練習 7-4 披薩配料</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">ingredients <span style="color:#f92672">=</span> []
prompt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;What kind of pizza ingredients do you need?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>

active <span style="color:#f92672">=</span> True

<span style="color:#66d9ef">while</span> True:
    values <span style="color:#f92672">=</span> input(prompt)

    <span style="color:#66d9ef">if</span> values <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;quit&#34;</span>:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;We will add {values} to the pizza.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
        ingredients<span style="color:#f92672">.</span>append(values)
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">break</span>

<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">OK. We will add:&#34;</span>)
<span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> ingredients:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">{value}&#34;</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;to the pizza. Thanks.&#34;</span>)
</code></pre></div><h4 id="練習-7-5-電影票">練習 7-5 電影票</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-7-6-三種出路">練習 7-6 三種出路</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 1 條件測試</span>

ingredients <span style="color:#f92672">=</span> []
prompt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;What kind of pizza ingredients do you need?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>

active <span style="color:#f92672">=</span> True

message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>

<span style="color:#66d9ef">while</span> message <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;quit&#34;</span>:    
    value <span style="color:#f92672">=</span> input(prompt)
    message <span style="color:#f92672">=</span> value
    ingredients<span style="color:#f92672">.</span>append(value)

<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">OK. We will add:&#34;</span>)
<span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> ingredients:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">{value}&#34;</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;to the pizza. Thanks.&#34;</span>)
</code></pre></div><h4 id="練習-7-7-無限循環">練習 7-7 無限循環</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h2 id="73-使用-while-循環處理列表和字典">7.3 使用 <code>while</code> 循環處理列表和字典</h2>
<p>在列表之間移動元素，如實例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#  首先，创建一个待验证用户列表users.py</span>
<span style="color:#75715e">#   和一个用于存储已验证用户的空列表。</span>
unconfirmed_users <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;alice&#39;</span>, <span style="color:#e6db74">&#39;brian&#39;</span>, <span style="color:#e6db74">&#39;candace&#39;</span>]
confirmed_users <span style="color:#f92672">=</span> []

<span style="color:#75715e"># 验证每个用户，直到没有未验证用户为止。</span>
<span style="color:#75715e">#   将每个经过验证的用户都移到已验证用户列表中。</span>
<span style="color:#66d9ef">while</span> unconfirmed_users:
    current_user <span style="color:#f92672">=</span> unconfirmed_users<span style="color:#f92672">.</span>pop()
    
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Verifying user: {current_user.title()}&#34;</span>)
    confirmed_users<span style="color:#f92672">.</span>append(current_user) 

<span style="color:#75715e"># 显示所有已验证的用户。</span>
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">The following users have been confirmed:&#34;</span>)
<span style="color:#66d9ef">for</span> confirmed_user <span style="color:#f92672">in</span> confirmed_users:
    <span style="color:#66d9ef">print</span>(confirmed_user<span style="color:#f92672">.</span>title())
</code></pre></div><p>在列表中刪除為特定值的所有元素，如實例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">pets <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;dog&#39;</span>, <span style="color:#e6db74">&#39;cat&#39;</span>, <span style="color:#e6db74">&#39;dog&#39;</span>, <span style="color:#e6db74">&#39;goldfish&#39;</span>, <span style="color:#e6db74">&#39;cat&#39;</span>, <span style="color:#e6db74">&#39;rabbit&#39;</span>, <span style="color:#e6db74">&#39;cat&#39;</span>]
<span style="color:#66d9ef">print</span>(pets)

<span style="color:#66d9ef">while</span> <span style="color:#e6db74">&#39;cat&#39;</span> <span style="color:#f92672">in</span> pets:
    pets<span style="color:#f92672">.</span>remove(<span style="color:#e6db74">&#39;cat&#39;</span>)
    
<span style="color:#66d9ef">print</span>(pets)
</code></pre></div><p>使用用戶輸入來填充字典，如實例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">responses  <span style="color:#f92672">=</span>  {}

<span style="color:#75715e"># 设置一个标志，指出调查是否继续。</span>
polling_active <span style="color:#f92672">=</span> True 

<span style="color:#66d9ef">while</span> polling_active:
    <span style="color:#75715e"># 提示输入被调查者的名字和回答。</span>
    name <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">What is your name? &#34;</span>)
    response <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Which mountain would you like to climb someday? &#34;</span>)
    
    <span style="color:#75715e"># 将回答存储在字典中。</span>
    responses[name] <span style="color:#f92672">=</span> response
    
    <span style="color:#75715e"># 看看是否还有人要参与调查。</span>
    repeat <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Would you like to let another person respond? (yes/ no) &#34;</span>)
    <span style="color:#66d9ef">if</span> repeat <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;no&#39;</span>:
        polling_active <span style="color:#f92672">=</span> False 
        
    <span style="color:#75715e"># 调查结束，显示结果。</span>
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">--- Poll Results ---&#34;</span>)
    <span style="color:#66d9ef">for</span> name, response <span style="color:#f92672">in</span> responses<span style="color:#f92672">.</span>items():
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{name} would like to climb {response}.&#34;</span>) 
</code></pre></div><h4 id="練習-7-8-熟食店">練習 7-8 熟食店</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">sandwich_orders <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>]
finished_sandwiches <span style="color:#f92672">=</span> []

<span style="color:#66d9ef">while</span> sandwich_orders <span style="color:#f92672">!=</span> []:
    sandwich_order <span style="color:#f92672">=</span> sandwich_orders<span style="color:#f92672">.</span>pop()
    finished_sandwiches<span style="color:#f92672">.</span>append(sandwich_order)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I made your {sandwich_order}&#34;</span>)

<span style="color:#66d9ef">print</span>()

<span style="color:#66d9ef">for</span> finished_sandwiche <span style="color:#f92672">in</span> finished_sandwiches:
    <span style="color:#66d9ef">print</span>(finished_sandwiche)
</code></pre></div><h4 id="練習-7-9-五香烟熏牛肉賣完了">練習 7-9 五香烟熏牛肉賣完了</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">sandwich_orders <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;pastrami&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;pastrami&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;pastrami&#34;</span>]

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;The pastrami has been sold out.&#34;</span>)

<span style="color:#66d9ef">while</span> <span style="color:#e6db74">&#34;pastrami&#34;</span> <span style="color:#f92672">in</span> sandwich_orders:
    sandwich_orders<span style="color:#f92672">.</span>remove(<span style="color:#e6db74">&#34;pastrami&#34;</span>)

<span style="color:#66d9ef">print</span>(sandwich_orders)
</code></pre></div><h4 id="練習-7-10-夢想的度假勝地">練習 7-10 夢想的度假勝地</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">responses <span style="color:#f92672">=</span> {}

active <span style="color:#f92672">=</span> True

<span style="color:#66d9ef">while</span> active:
    name <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">What is your name? &#34;</span>)
    response <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;If you could visit one place in the world, where would you go? &#34;</span>)

    responses[name] <span style="color:#f92672">=</span> response

    repeat <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Would you like to let another person respond? (yes/ no) &#34;</span>)
    <span style="color:#66d9ef">if</span> repeat<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;no&#34;</span>:
        active <span style="color:#f92672">=</span> False

<span style="color:#66d9ef">for</span> name, response <span style="color:#f92672">in</span> responses<span style="color:#f92672">.</span>items():
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{name.title()} would like to go to {response.title()}.&#34;</span>)
</code></pre></div><h1 id="第-8-章-函數">第 8 章 函數</h1>
<h2 id="81-定義函數">8.1 定義函數</h2>
<p>使用關鍵字 <code>def</code> 來定義一個函數。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">greet_user</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Hello!&#34;</span>)

greet_user()
</code></pre></div><p>可在函數定義 <code>def greet_user()</code> 的括號內添加username。通過在這裡添加 <code>username</code>，可讓函數接受你給 <code>username</code> 指定的任何值。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">greet_user</span>(username):
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Hello, {username.title()}!&#34;</span>)
    
greet_user(<span style="color:#e6db74">&#39;jesse&#39;</span>)
</code></pre></div><p>在函數 <code>greet_user()</code> 的定義中，變量 <code>username</code> 是一個形參（parameter），即函數完成工作所需的信息。在代碼 <code>greet_user('jesse')</code> 中，值 <code>'jesse'</code> 是一個實參（argument），即調用函數時傳遞給函數的信息。調用函數時，將要讓函數使用的信息放在圓括號內。在 <code>greet_user('jesse')</code> 中，將實參 <code>'jesse'</code> 傳遞給了函數 <code>greet_user()</code>，這個值被賦給了形參 <code>username</code>。</p>
<h4 id="練習-8-1-消息">練習 8-1 消息</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">display_message</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;蛤？&#34;</span>)

display_message()
</code></pre></div><h4 id="練習-8-2-喜歡的圖書">練習 8-2 喜歡的圖書</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">favorite_book</span>(name):
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;One of my favorite books is {name}.&#34;</span>)

favorite_book(<span style="color:#e6db74">&#34;Alice in Wonderland&#34;</span>)
</code></pre></div><h2 id="82-傳遞實參">8.2 傳遞實參</h2>
<p>位置實參，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_pet</span>(animal_type, pet_name):
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">I have a {animal_type}.&#34;</span>)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My {animal_type}&#39;s name is {pet_name.title()}.&#34;</span>)

describe_pet(<span style="color:#e6db74">&#39;hamster&#39;</span>, <span style="color:#e6db74">&#39;harry&#39;</span>)
describe_pet(<span style="color:#e6db74">&#39;dog&#39;</span>, <span style="color:#e6db74">&#39;willie&#39;</span>)
</code></pre></div><p>在函數中，可根據需要使用任意數量的位置實參，Python 將按順序將函數調用中的實參關聯到函數定義中相應的形參。</p>
<p>使用位置實參來調用函數時，如果實參的順序不正確，結果可能出乎意料；<strong>關鍵字</strong>實參是傳遞給函數的名稱值對。因為直接在實參中將名稱和值關聯起來，所以向函數傳遞實參時不會混淆。關鍵字實參讓你無須考慮函數調用中的實參順序，還清楚地指出了函數調用中各個值的用途。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_pet</span>(animal_type, pet_name):
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">I have a {animal_type}.&#34;</span>)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My {animal_type}&#39;s name is {pet_name.title()}.&#34;</span>)

describe_pet(animal_type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;hamster&#39;</span>, pet_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;harry&#39;</span>)
</code></pre></div><p>關鍵字實參的順序無關緊要，因為 Python 知道各個值該賦給哪個形參。</p>
<p>編寫函數時，可給每個形參指定默認值。在調用函數中給形參提供了實參時，Python 將使用指定的實參值；否則，將使用形參的默認值。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_pet</span>(pet_name, animal_type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dog&#39;</span>):
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">I have a {animal_type}.&#34;</span>)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My {animal_type}&#39;s name is {pet_name.title()}.&#34;</span>)

describe_pet(pet_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;willie&#39;</span>)
<span style="color:#75715e"># or describe_pet(&#39;willie&#39;)</span>
</code></pre></div><p>由於顯式地給 <code>animal_type</code> 提供了實參，Python 將忽略這個形參的默認值。</p>
<p>由於可混合使用位置實參、關鍵字實參和默認值，通常有多種等效的函數調用方式。</p>
<h4 id="練習-8-3-t-賉">練習 8-3 T 賉</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_shirt</span>(size, figure):
    <span style="color:#66d9ef">print</span>(<span style="color:#f92672">...</span>)

make_shirt(xxx, xxxx)
</code></pre></div><h4 id="練習-8-4-大號-t-賉">練習 8-4 大號 T 賉</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_shirt</span>(size<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bbbbbbig&#39;</span>, figure):
    <span style="color:#66d9ef">print</span>(<span style="color:#f92672">...</span>)

make_shirt(xxxx)
</code></pre></div><h4 id="練習-8-5-城市">練習 8-5 城市</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_city</span>(city, country<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;China&#39;</span>):
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{city.title()} is in {country.title()}.&#34;</span>)

describe_city(<span style="color:#e6db74">&#39;hubei&#39;</span>)
describe_city(<span style="color:#e6db74">&#39;st. petersburg&#39;</span>, <span style="color:#e6db74">&#39;russia&#39;</span>)
describe_city(<span style="color:#e6db74">&#39;london&#39;</span>, <span style="color:#e6db74">&#39;united kingdom&#39;</span>)
</code></pre></div><h2 id="83-返回值">8.3 返回值</h2>
<p>函數返回的值稱為返回值。在函數中，可使用 <code>return</code> 語句將值返回到調用函數的代碼行。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_formatted_name</span>(first_name, last_name):
    full_name <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;{first_name} {last_name}&#34;</span>
    <span style="color:#66d9ef">return</span> full_name<span style="color:#f92672">.</span>title()

musician <span style="color:#f92672">=</span> get_formatted_name(<span style="color:#e6db74">&#39;jimi&#39;</span>, <span style="color:#e6db74">&#39;hendrix&#39;</span>)
<span style="color:#66d9ef">print</span>(musician)
</code></pre></div><p>有時候，需要讓實參變成可選的，這樣使用函數的人就能只在必要時提供額外的信息。可使用默認值來讓實參變成可選的。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_formatted_name</span>(first_name, last_name, middle_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>):
    <span style="color:#75715e">## 如果沒有這個判斷，缺失的 middle_name 將由空格代替。</span>
    <span style="color:#66d9ef">if</span> middle_name:
        full_name <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;{first_name} {middle_name} {last_name}&#34;</span>
    <span style="color:#66d9ef">else</span>:
        full_name <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;{first_name} {last_name}&#34;</span>
    <span style="color:#66d9ef">return</span> full_name<span style="color:#f92672">.</span>title()

musician <span style="color:#f92672">=</span> get_formatted_name(<span style="color:#e6db74">&#39;jimi&#39;</span>, <span style="color:#e6db74">&#39;hendrix&#39;</span>)
<span style="color:#66d9ef">print</span>(musician)

musician <span style="color:#f92672">=</span> get_formatted_name(<span style="color:#e6db74">&#39;john&#39;</span>, <span style="color:#e6db74">&#39;hooker&#39;</span>, <span style="color:#e6db74">&#39;lee&#39;</span>)
<span style="color:#66d9ef">print</span>(musician)
</code></pre></div><p>結合使用函數和 <code>while</code> 循環，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_formatted_name</span>(first_name, last_name):
    full_name <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;{first_name} {last_name}&#34;</span>
    <span style="color:#66d9ef">return</span> full_name<span style="color:#f92672">.</span>title()

<span style="color:#66d9ef">while</span> True:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Please tell me your name:&#34;</span>)
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;(enter &#39;q&#39; at any time to quit)&#34;</span>)

    f_name <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;First name: &#34;</span>)
    <span style="color:#66d9ef">if</span> f_name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;q&#39;</span>:
        <span style="color:#66d9ef">break</span>

    l_name <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Last name: &#34;</span>)
    <span style="color:#66d9ef">if</span> l_name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;q&#39;</span>:
        <span style="color:#66d9ef">break</span>

    formatted_name <span style="color:#f92672">=</span> get_formatted_name(f_name, l_name)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Hello, {formatted_name}!&#34;</span>)
</code></pre></div><h4 id="練習-8-6-城市名">練習 8-6 城市名</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">city_country</span>(city, country):
    output <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#39;&#34;{city}, {country}&#34;&#39;</span>
    <span style="color:#66d9ef">return</span> output<span style="color:#f92672">.</span>title()

answer <span style="color:#f92672">=</span> city_country(<span style="color:#e6db74">&#39;santiago&#39;</span>, <span style="color:#e6db74">&#39;chile&#39;</span>)
<span style="color:#66d9ef">print</span>(answer)
</code></pre></div><h4 id="練習-8-7-專輯">練習 8-7 專輯</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_album</span>(name, album_name, num<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;None&#39;</span>):
    <span style="color:#66d9ef">if</span> num:
        output <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Name&#34;</span>: name<span style="color:#f92672">.</span>title(), <span style="color:#e6db74">&#34;Album name&#34;</span>: album_name<span style="color:#f92672">.</span>title(), <span style="color:#e6db74">&#34;Number&#34;</span>: num}
    <span style="color:#66d9ef">else</span>:
        output <span style="color:#f92672">=</span> output <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Name&#34;</span>: name<span style="color:#f92672">.</span>title(), <span style="color:#e6db74">&#34;Album name&#34;</span>: album_name<span style="color:#f92672">.</span>title()}
    <span style="color:#66d9ef">return</span> output

output <span style="color:#f92672">=</span> make_album(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#e6db74">&#39;def&#39;</span>, <span style="color:#e6db74">&#39;100&#39;</span>)
<span style="color:#66d9ef">print</span>(output)
output <span style="color:#f92672">=</span> make_album(<span style="color:#e6db74">&#39;jkl&#39;</span>, <span style="color:#e6db74">&#39;mno&#39;</span>)
<span style="color:#66d9ef">print</span>(output)
</code></pre></div><h4 id="練習-8-8-用戶的專輯">練習 8-8 用戶的專輯</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_album</span>(name, album_name, num<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;None&#39;</span>):
    <span style="color:#66d9ef">if</span> num:
        output <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Name&#34;</span>: name<span style="color:#f92672">.</span>title(), <span style="color:#e6db74">&#34;Album name&#34;</span>: album_name<span style="color:#f92672">.</span>title(), <span style="color:#e6db74">&#34;Number&#34;</span>: num}
    <span style="color:#66d9ef">else</span>:
        output <span style="color:#f92672">=</span> output <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Name&#34;</span>: name<span style="color:#f92672">.</span>title(), <span style="color:#e6db74">&#34;Album name&#34;</span>: album_name<span style="color:#f92672">.</span>title()}
    <span style="color:#66d9ef">return</span> output

<span style="color:#66d9ef">while</span> True:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Please tell me your name:&#34;</span>)
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;(enter &#39;q&#39; at any time to quit)&#34;</span>)

    name <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Name? &#34;</span>)
    <span style="color:#66d9ef">if</span> name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;q&#34;</span>:
        <span style="color:#66d9ef">break</span>
    album_name <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Album name? &#34;</span>)
    <span style="color:#66d9ef">if</span> name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;q&#34;</span>:
        <span style="color:#66d9ef">break</span>
    <span style="color:#66d9ef">break</span>
output <span style="color:#f92672">=</span> make_album(name, album_name)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{output}&#34;</span>)
</code></pre></div><h2 id="84-傳遞列表">8.4 傳遞列表</h2>
<p>如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">greet_users</span>(names):
    <span style="color:#66d9ef">for</span> name <span style="color:#f92672">in</span> names:
        msg <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;Hello, {name.title()}!&#34;</span>
        <span style="color:#66d9ef">print</span>(msg)

usernames <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;hannah&#39;</span>, <span style="color:#e6db74">&#39;ty&#39;</span>, <span style="color:#e6db74">&#39;margot&#39;</span>]
greet_users(usernames)
</code></pre></div><p>將列表傳遞給函數後，函數就可對其進行修改。在函數中對這個列表所做的任何修改都是永久性的。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">unprinted_designs <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;phone case&#39;</span>, <span style="color:#e6db74">&#39;robot pendant&#39;</span>, <span style="color:#e6db74">&#39;dodecahedron&#39;</span>]
completed_models <span style="color:#f92672">=</span> []

<span style="color:#66d9ef">while</span> unprinted_designs:
    current_design <span style="color:#f92672">=</span> unprinted_designs<span style="color:#f92672">.</span>pop()
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Printing model: {current_design}&#34;</span>)
    completed_models<span style="color:#f92672">.</span>append(current_design)

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">The following models have been printed:&#34;</span>)
<span style="color:#66d9ef">for</span> completed_model <span style="color:#f92672">in</span> completed_models:
    <span style="color:#66d9ef">print</span>(completed_model)

<span style="color:#75715e"># 或</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print_models</span>(unprinted_designs, completed_models):
    <span style="color:#66d9ef">while</span> unprinted_designs:
        current_design <span style="color:#f92672">=</span> unprinted_designs<span style="color:#f92672">.</span>pop()
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Printing model: {current_design}&#34;</span>)
        completed_models<span style="color:#f92672">.</span>append(current_design)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show_completed_models</span>(completed_models):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">The following models have been printed:&#34;</span>)
    <span style="color:#66d9ef">for</span> completed_model <span style="color:#f92672">in</span> completed_models:
        <span style="color:#66d9ef">print</span>(completed_model)

unprinted_designs <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;phone case&#39;</span>, <span style="color:#e6db74">&#39;robot pendant&#39;</span>, <span style="color:#e6db74">&#39;dodecahedron&#39;</span>]
completed_models <span style="color:#f92672">=</span> []

print_models(unprinted_designs, completed_models)
show_completed_models(completed_models)
</code></pre></div><p>相比於沒有使用函數的版本，這個程序更容易擴展和維護。如果發現需要對打印代碼進行修改，只需修改這些代碼一次，就能影響所有調用該函數的地方。與必須分別修改程序的多個地方相比，這種修改的效率更高。</p>
<p>有時候，需要禁止函數修改列表。可使用切片向函數傳遞列表的副本而非原件。這樣，函數所做的任何修改都只影響副本，而原件絲毫不受影響。</p>
<h4 id="練習-8-9-消息">練習 8-9 消息</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show_messages</span>(messages):
    <span style="color:#66d9ef">for</span> message <span style="color:#f92672">in</span> messages:
        <span style="color:#66d9ef">print</span>(message)

messages <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>]
show_messages(messages)
</code></pre></div><h4 id="練習-8-10-發送消息">練習 8-10 發送消息</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">send_messages</span>(values):
    sent_messages <span style="color:#f92672">=</span> []
    <span style="color:#66d9ef">while</span> values <span style="color:#f92672">!=</span> []:
        sent_message <span style="color:#f92672">=</span> values<span style="color:#f92672">.</span>pop()
        <span style="color:#66d9ef">print</span>(sent_message)
        sent_messages<span style="color:#f92672">.</span>append(sent_message)

    <span style="color:#66d9ef">print</span>(values)
    <span style="color:#66d9ef">print</span>(sent_messages)

values <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>]
send_messages(values)
</code></pre></div><h4 id="練習-8-11-消息掃描">練習 8-11 消息掃描</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">send_messages</span>(values):
    sent_messages <span style="color:#f92672">=</span> []
    archives <span style="color:#f92672">=</span> values[:]
    <span style="color:#66d9ef">while</span> values <span style="color:#f92672">!=</span> []:
        sent_message <span style="color:#f92672">=</span> values<span style="color:#f92672">.</span>pop()
        <span style="color:#66d9ef">print</span>(sent_message)
        sent_messages<span style="color:#f92672">.</span>append(sent_message)

    <span style="color:#66d9ef">print</span>(values)
    <span style="color:#66d9ef">print</span>(archives)
    <span style="color:#66d9ef">print</span>(sent_messages)

values <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>]
send_messages(values) 
</code></pre></div><h2 id="85傳遞任意數量的實參">8.5　傳遞任意數量的實參</h2>
<p>形參名中的星號 <code>*</code> 讓 Python 創建一個空元組，並將收到的所有值都封裝到這個元組中。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_pizza</span>(size, <span style="color:#f92672">*</span>toppings):
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Making a {size}-inch pizza with the following toppings:&#34;</span>)
    <span style="color:#66d9ef">for</span> topping <span style="color:#f92672">in</span> toppings:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;- {topping}&#34;</span>)

make_pizza(<span style="color:#ae81ff">16</span>, <span style="color:#e6db74">&#39;pepperoni&#39;</span>)
make_pizza(<span style="color:#ae81ff">12</span>, <span style="color:#e6db74">&#39;mushrooms&#39;</span>, <span style="color:#e6db74">&#39;green peppers&#39;</span>, <span style="color:#e6db74">&#39;extra cheese&#39;</span>)
</code></pre></div><p>形參中的兩個星號 <code>**</code> 讓 Python 創建一個空字典，並將收到的所有名稱值對都放到這個字典中。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">build_profile</span>(first, last, <span style="color:#f92672">**</span>user_info):
    user_info[<span style="color:#e6db74">&#39;first_name&#39;</span>] <span style="color:#f92672">=</span> first
    user_info[<span style="color:#e6db74">&#39;last_name&#39;</span>] <span style="color:#f92672">=</span> last
    <span style="color:#66d9ef">return</span> user_info

user_profile <span style="color:#f92672">=</span> build_profile(<span style="color:#e6db74">&#39;albert&#39;</span>, <span style="color:#e6db74">&#39;einstein&#39;</span>,
                            location<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;princeton&#39;</span>,
                            field<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;physics&#39;</span>)
<span style="color:#66d9ef">print</span>(user_profile)
</code></pre></div><h4 id="練習-8-12-三明治">練習 8-12 三明治</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">ingredients</span>(<span style="color:#f92672">*</span>ingredients):
    <span style="color:#66d9ef">for</span> ingredient <span style="color:#f92672">in</span> ingredients:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;I need {ingredient}&#34;</span>)

ingredients(<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>)
</code></pre></div><h4 id="練習-8-13-用戶簡介">練習 8-13 用戶簡介</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-8-14-汽車">練習 8-14 汽車</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_car</span>(manufacture, model, <span style="color:#f92672">**</span>info):
    info[<span style="color:#e6db74">&#39;manufacture&#39;</span>] <span style="color:#f92672">=</span> manufacture
    info[<span style="color:#e6db74">&#39;model&#39;</span>] <span style="color:#f92672">=</span> model
    <span style="color:#66d9ef">return</span> info

car <span style="color:#f92672">=</span> make_car(<span style="color:#e6db74">&#39;subaru&#39;</span>, <span style="color:#e6db74">&#39;outback&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;blue&#39;</span>, tow_package<span style="color:#f92672">=</span>True)
<span style="color:#66d9ef">print</span>(car)
</code></pre></div><h2 id="86-將函數存儲在模塊中">8.6 將函數存儲在模塊中</h2>
<p>使用函數的優點之一是可將代碼塊與主程序分離。可以將函數存儲在稱為模塊的獨立文件中，再將模塊導入到主程序中。 <code>import</code> 語句允許在當前運行的程序文件中使用模塊中的代碼。</p>
<p>要讓函數是可導入的，得先創建模塊。模塊是擴展名為 <code>.py</code> 的文件，包含要導入到程序中的代碼。</p>
<p>可以導入整個模塊，也可以導入模塊中的部分函數，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> module_name <span style="color:#f92672">import</span> function_name
</code></pre></div><p>如果使用這種 <code>import</code> 語句導入了名為 <code>module_name.py</code> 的整個模塊，就可使用下面的語法來使用其中任何一個函數：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">module_name<span style="color:#f92672">.</span>function_name()
</code></pre></div><p>可使用 as 為函數指定別名，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> module_name <span style="color:#f92672">import</span> function_name <span style="color:#66d9ef">as</span> fn复制
</code></pre></div><p>也可使用 as 為模塊指定別名，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> module_name <span style="color:#f92672">as</span> mn
</code></pre></div><p>使用星號 <code>*</code> 運算符可讓 Python 導入模塊中的所有函數，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> module_name <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</code></pre></div><h2 id="87函數編寫指南">8.7　函數編寫指南</h2>
<p>每個函數都應包含簡要地闡述其功能的註釋。該註釋應緊跟在函數定義後面，並採用文檔字符串格式。文檔良好的函數讓其他程序員只需閱讀文檔字符串中的描述就能夠使用它。他們完全可以相信代碼如描述的那樣運行，並且只要知道函數的名稱、需要的實參以及返回值的類型，就能在自己的程序中使用它。</p>
<h4 id="練習-8-15-打印模型">練習 8-15 打印模型</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-8-16-導入">練習 8-16 導入</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-8-17-函數編寫指南">練習 8-17 函數編寫指南</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h1 id="第-9-章-類">第 9 章 類</h1>
<h2 id="91創建和使用類">9.1　創建和使用類</h2>
<p>類（class），如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Dog</span>:

    <span style="color:#66d9ef">def</span> __init__(self, name, age):
        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
        self<span style="color:#f92672">.</span>age <span style="color:#f92672">=</span> age

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sit</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{self.name} is now sitting.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">roll_over</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{self.name} rolled over!&#34;</span>)

my_dog <span style="color:#f92672">=</span> Dog(<span style="color:#e6db74">&#39;Willie&#39;</span>, <span style="color:#ae81ff">6</span>)
your_dog <span style="color:#f92672">=</span> Dog(<span style="color:#e6db74">&#39;Lucy&#39;</span>, <span style="color:#ae81ff">3</span>)

<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My dog&#39;s name is {my_dog.name}.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;My dog is {my_dog.age} years old.&#34;</span>)
my_dog<span style="color:#f92672">.</span>sit()

<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Your dog&#39;s name is {your_dog.name}.&#34;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Your dog is {your_dog.age} years old.&#34;</span>)
your_dog<span style="color:#f92672">.</span>sit()
</code></pre></div><p>根據約定，在 Python 中，首字母大寫的名稱指的是類。這個類定義中沒有圓括號，因為要從空白創建這個類。</p>
<p>方法 <code>__init__()</code> ：類中的函數稱為方法。<code>__init__()</code> 是一個特殊方法，每當創建新實例時，Python 都會自動運行它。在這個方法的名稱中，開頭和末尾各有兩個下劃線，這是一種約定，旨在避免 Python 默認方法與普通方法發生名稱衝突。務必確保 <code>__init__()</code> 的兩邊都有兩個下劃線。</p>
<p>可將類視為有關如何創建實例的說明。通常可認為首字母大寫的名稱指的是類，而小寫的名稱指的是根據類創建的實例。要訪問實例的屬性，可使用句點表示法。根據類創建實例後，就能使用句點表示法來調用 類中定義的任何方法了。要調用方法，可指定實例的名稱和要調用的方法，並用句點分隔。</p>
<p>可按需求根據類創建任意數量的實例。</p>
<h4 id="練習-9-1-餐館">練習 9-1 餐館</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Restaurant</span>:
    <span style="color:#66d9ef">def</span> __init__(restaurant, restaurant_name, cuisine_type):
        restaurant<span style="color:#f92672">.</span>restaurant_name <span style="color:#f92672">=</span> restaurant_name<span style="color:#f92672">.</span>title()
        restaurant<span style="color:#f92672">.</span>cuisine_type <span style="color:#f92672">=</span> cuisine_type

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_restaurant</span>(restaurant):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The restaurant&#39;s name is {restaurant.restaurant_name} and the type of cuisine is {restaurant.cuisine_type}.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">open_restaurant</span>(restaurant):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;The restaurant is open.&#34;</span>)

restaurant <span style="color:#f92672">=</span> Restauran t(<span style="color:#e6db74">&#34;abcde&#34;</span>, <span style="color:#e6db74">&#34;classic&#34;</span>)
restaurant<span style="color:#f92672">.</span>describe_restaurant()
restaurant<span style="color:#f92672">.</span>open_restaurant()
</code></pre></div><h4 id="練習-9-2-三家餐館">練習 9-2 三家餐館</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-9-3-用戶">練習 9-3 用戶</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>:
    <span style="color:#66d9ef">def</span> __init__(self, first_name, last_name):
        self<span style="color:#f92672">.</span>first_name <span style="color:#f92672">=</span> first_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>last_name <span style="color:#f92672">=</span> last_name<span style="color:#f92672">.</span>title()
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_user</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Your first name is {self.first_name} and your last name is {self.last_name}.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">greet_user</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Hello {self.first_name} {self.last_name}!&#34;</span>)

self <span style="color:#f92672">=</span> User(<span style="color:#e6db74">&#34;Wukong&#34;</span>, <span style="color:#e6db74">&#34;Sun&#34;</span>)
self<span style="color:#f92672">.</span>describe_user()
self<span style="color:#f92672">.</span>greet_user()
</code></pre></div><h2 id="92使用類和實例">9.2　使用類和實例</h2>
<p>能以三種方式修改屬性的值：直接通過實例進行修改，通過方法進行設置，以及通過方法進行遞增（增加特定的值）。</p>
<p>直接修改屬性的值，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span>:
    <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>

my_new_car <span style="color:#f92672">=</span> Car(<span style="color:#e6db74">&#39;audi&#39;</span>, <span style="color:#e6db74">&#39;a4&#39;</span>, <span style="color:#ae81ff">2019</span>)
<span style="color:#66d9ef">print</span>(my_new_car<span style="color:#f92672">.</span>get_descriptive_name())

my_new_car<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">=</span> <span style="color:#ae81ff">23</span>
my_new_car<span style="color:#f92672">.</span>read_odometer()
</code></pre></div><p>通過方法修改屬性的值，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span>:
    <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_odometer</span>(self, mileage):
        <span style="color:#66d9ef">if</span> mileage <span style="color:#f92672">&gt;=</span> self<span style="color:#f92672">.</span>odometer_reading:
            self<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">=</span> mileage
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You can&#39;t roll back an odometer!&#34;</span>)
</code></pre></div><p>通過方法對屬性的值進行遞增，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span>:
    <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_odometer</span>(self, mileage):
        <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">increment_odometer</span>(self, miles):
        self<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">+=</span> miles

my_used_car <span style="color:#f92672">=</span> Car(<span style="color:#e6db74">&#39;subaru&#39;</span>, <span style="color:#e6db74">&#39;outback&#39;</span>, <span style="color:#ae81ff">2015</span>)
<span style="color:#66d9ef">print</span>(my_used_car<span style="color:#f92672">.</span>get_descriptive_name())

my_used_car<span style="color:#f92672">.</span>update_odometer(<span style="color:#ae81ff">23</span>_500)
my_used_car<span style="color:#f92672">.</span>read_odometer()

my_used_car<span style="color:#f92672">.</span>increment_odometer(<span style="color:#ae81ff">100</span>)
my_used_car<span style="color:#f92672">.</span>read_odometer()
</code></pre></div><h4 id="練習-9-4-就餐人數">練習 9-4 就餐人數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Restaurant</span>:
    <span style="color:#66d9ef">def</span> __init__(self, restaurant_name, cuisine_type):
        self<span style="color:#f92672">.</span>restaurant_name <span style="color:#f92672">=</span> restaurant_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>cuisine_type <span style="color:#f92672">=</span> cuisine_type
        self<span style="color:#f92672">.</span>number_served <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_restaurant</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The restaurant&#39;s name is {self.restaurant_name} and the type of cuisine is {self.cuisine_type}.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">open_restaurant</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;The restaurant is open.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_number_served</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{self.number_served} people have eaten in the restaurant.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">set_number_served</span>(self, number):
        self<span style="color:#f92672">.</span>number_served <span style="color:#f92672">=</span> number

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">incream_number_served</span>(self, number):
        self<span style="color:#f92672">.</span>number_served <span style="color:#f92672">+=</span> number


restaurant <span style="color:#f92672">=</span> Restaurant(<span style="color:#e6db74">&#34;abcde&#34;</span>, <span style="color:#e6db74">&#34;classic&#34;</span>)
restaurant<span style="color:#f92672">.</span>describe_restaurant()
restaurant<span style="color:#f92672">.</span>read_number_served()

restaurant<span style="color:#f92672">.</span>set_number_served(<span style="color:#ae81ff">100</span>)
restaurant<span style="color:#f92672">.</span>read_number_served()

restaurant<span style="color:#f92672">.</span>incream_number_served(<span style="color:#ae81ff">500</span>)
restaurant<span style="color:#f92672">.</span>read_number_served()
</code></pre></div><h4 id="練習-9-5-嘗試登陸次數">練習 9-5 嘗試登陸次數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>:
    <span style="color:#66d9ef">def</span> __init__(self, first_name, last_name):
        self<span style="color:#f92672">.</span>first_name <span style="color:#f92672">=</span> first_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>last_name <span style="color:#f92672">=</span> last_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>login_attempts <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_user</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Your first name is {self.first_name} and your last name is {self.last_name}.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">greet_user</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Hello {self.first_name} {self.last_name}!&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_login_attempts</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The login attempt number is {self.login_attempts}.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">increment_login_attempts</span>(self):
        self<span style="color:#f92672">.</span>login_attempts <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>login_attempts <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reset_login_attempts</span>(self):
        self<span style="color:#f92672">.</span>login_attempts <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

self <span style="color:#f92672">=</span> User(<span style="color:#e6db74">&#34;Wukong&#34;</span>, <span style="color:#e6db74">&#34;Sun&#34;</span>)
self<span style="color:#f92672">.</span>describe_user()
self<span style="color:#f92672">.</span>greet_user()
self<span style="color:#f92672">.</span>read_login_attempts()

self<span style="color:#f92672">.</span>increment_login_attempts()
self<span style="color:#f92672">.</span>read_login_attempts()

self<span style="color:#f92672">.</span>reset_login_attempts()
self<span style="color:#f92672">.</span>read_login_attempts()
</code></pre></div><h2 id="93繼承">9.3　繼承</h2>
<p>如果要編寫的類是另一個現成類的特殊版本，可使用繼承。一個類繼承另一個類時，將自動獲得另一個類的所有屬性和方法。原有的類稱為父類，而新類稱為子類。子類繼承了父類的所有屬性和方法，同時還可以定義自己的屬性和方法。</p>
<p>子類的方法 <code>__init__()</code>：在既有類的基礎上編寫新類時，通常要調用父類的方法 <code>__init__()</code>。這將初始化在父類 <code>__init__()</code> 方法中定義的所有屬性，從而讓子類包含這些屬性。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span>:

    <span style="color:#66d9ef">def</span> __init__(self, make, model, year):
        self<span style="color:#f92672">.</span>make <span style="color:#f92672">=</span> make
        self<span style="color:#f92672">.</span>model <span style="color:#f92672">=</span> model
        self<span style="color:#f92672">.</span>year <span style="color:#f92672">=</span> year
        self<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_descriptive_name</span>(self):
        long_name <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;{self.year} {self.make} {self.model}&#34;</span>
        <span style="color:#66d9ef">return</span> long_name<span style="color:#f92672">.</span>title()

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_odometer</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;This car has {self.odometer_reading} miles on it.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_odometer</span>(self, mileage):
        <span style="color:#66d9ef">if</span> mileage <span style="color:#f92672">&gt;=</span> self<span style="color:#f92672">.</span>odometer_reading:
            self<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">=</span> mileage
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You can&#39;t roll back an odometer!&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">increment_odometer</span>(self, miles):
        self<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">+=</span> miles

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ElectricCar</span>(Car):

    <span style="color:#66d9ef">def</span> __init__(self, make, model, year):
        super()<span style="color:#f92672">.</span>__init__(make, model, year)

my_tesla <span style="color:#f92672">=</span> ElectricCar(<span style="color:#e6db74">&#39;tesla&#39;</span>, <span style="color:#e6db74">&#39;model s&#39;</span>, <span style="color:#ae81ff">2019</span>)
<span style="color:#66d9ef">print</span>(my_tesla<span style="color:#f92672">.</span>get_descriptive_name())
</code></pre></div><p>給子類定義屬性和方法，讓一個類繼承另一個類後，就可以添加區分子類和父類所需的新屬性和新方法了。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span>:
    <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ElectricCar</span>(Car):

    <span style="color:#66d9ef">def</span> __init__(self, make, model, year):
        super()<span style="color:#f92672">.</span>__init__(make, model, year)
        self<span style="color:#f92672">.</span>battery_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_battery</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;This car has a {self.battery_size}-kWh battery.&#34;</span>)

my_tesla <span style="color:#f92672">=</span> ElectricCar(<span style="color:#e6db74">&#39;tesla&#39;</span>, <span style="color:#e6db74">&#39;model s&#39;</span>, <span style="color:#ae81ff">2019</span>)
<span style="color:#66d9ef">print</span>(my_tesla<span style="color:#f92672">.</span>get_descriptive_name())
my_tesla<span style="color:#f92672">.</span>describe_battery()
</code></pre></div><p>對於父類的方法，只要它不符合子類模擬的實物的行為，都可以進行重寫。為此，可在子類中定義一個與要重寫的父類方法同名的方法。這樣，Python 將不會考慮這個父類方法，而只關注在子類中定義的相應方法。</p>
<p>斷給類添加細節時，我們可能發現其中包含很多專門針對類屬性和方法。在這種情況下，可將這些屬性和方法提取出來，放到一個新類中，並將一個新類實例作為原類的屬性。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span>:
    <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Battery</span>:
    <span style="color:#66d9ef">def</span> __init__(self, battery_size<span style="color:#f92672">=</span><span style="color:#ae81ff">75</span>):
        self<span style="color:#f92672">.</span>battery_size <span style="color:#f92672">=</span> battery_size

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_battery</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;This car has a {self.battery_size}-kWh battery.&#34;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ElectricCar</span>(Car):
    <span style="color:#66d9ef">def</span> __init__(self, make, model, year):
        super()<span style="color:#f92672">.</span>__init__(make, model, year)
        self<span style="color:#f92672">.</span>battery <span style="color:#f92672">=</span> Battery()

my_tesla <span style="color:#f92672">=</span> ElectricCar(<span style="color:#e6db74">&#39;tesla&#39;</span>, <span style="color:#e6db74">&#39;model s&#39;</span>, <span style="color:#ae81ff">2019</span>)

<span style="color:#66d9ef">print</span>(my_tesla<span style="color:#f92672">.</span>get_descriptive_name())
my_tesla<span style="color:#f92672">.</span>battery<span style="color:#f92672">.</span>describe_battery()
</code></pre></div><p>解決問題時，從較高的邏輯層面（而不是語法層面）考慮；考慮的不是 Python，而是如何使用代碼來表示實物。達到這種境界後，對現實世界的建模方法沒有對錯之分。有些方法的效率更高，但要找出效率最高的表示法，需要經過一定的實踐。</p>
<h4 id="練習-9-6-冰激凌小店">練習 9-6 冰激凌小店</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Restaurant</span>:
    <span style="color:#66d9ef">def</span> __init__(self, restaurant_name, cuisine_type):
        self<span style="color:#f92672">.</span>restaurant_name <span style="color:#f92672">=</span> restaurant_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>cuisine_type <span style="color:#f92672">=</span> cuisine_type

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_restaurant</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The restaurant&#39;s name is {self.restaurant_name} and the type of cuisine is {self.cuisine_type}.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">open_restaurant</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;The restaurant is open.&#34;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">IceCreamStand</span>(Restaurant):
    <span style="color:#66d9ef">def</span> __init__(self, restaurant_name, cuisine_type):
        super()<span style="color:#f92672">.</span>__init__(restaurant_name, cuisine_type)
        self<span style="color:#f92672">.</span>flavors <span style="color:#f92672">=</span> []

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_icecreamstand</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;There are many flavors of ice cream in the icecreamstand, such as:&#34;</span>)
        <span style="color:#66d9ef">for</span> flavor <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>flavors:
            <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">{flavor.title()}&#34;</span>)

my_icecreamstand <span style="color:#f92672">=</span> IceCreamStand(<span style="color:#e6db74">&#34;A&#34;</span>, <span style="color:#e6db74">&#34;classic&#34;</span>)
my_icecreamstand<span style="color:#f92672">.</span>flavors <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>]
my_icecreamstand<span style="color:#f92672">.</span>describe_icecreamstand()
</code></pre></div><h4 id="練習-9-7-管理員">練習 9-7 管理員</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>:
    <span style="color:#66d9ef">def</span> __init__(self, first_name, last_name):
        self<span style="color:#f92672">.</span>first_name <span style="color:#f92672">=</span> first_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>last_name <span style="color:#f92672">=</span> last_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>login_attempts <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_user</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Your first name is {self.first_name} and your last name is {self.last_name}.&#34;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Admin</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, first_name, last_name):
        super()<span style="color:#f92672">.</span>__init__(first_name, last_name)
        self<span style="color:#f92672">.</span>privileges <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;can add post&#34;</span>, <span style="color:#e6db74">&#34;can delete post&#34;</span>, <span style="color:#e6db74">&#34;can ban user&#34;</span>]

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show_privileges</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;{self.first_name} {self.last_name} has the following privileges:&#34;</span>)
        <span style="color:#66d9ef">for</span> privilege <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>privileges:
            <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">- {privilege}&#34;</span>)

admin <span style="color:#f92672">=</span> Admin(<span style="color:#e6db74">&#34;Wukong&#34;</span>, <span style="color:#e6db74">&#34;Sun&#34;</span>)
admin<span style="color:#f92672">.</span>show_privileges()
</code></pre></div><h4 id="練習-9-8-權限">練習 9-8 權限</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>:
    <span style="color:#66d9ef">def</span> __init__(self, first_name, last_name):
        self<span style="color:#f92672">.</span>first_name <span style="color:#f92672">=</span> first_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>last_name <span style="color:#f92672">=</span> last_name<span style="color:#f92672">.</span>title()
        self<span style="color:#f92672">.</span>login_attempts <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_user</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Your first name is {self.first_name} and your last name is {self.last_name}.&#34;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Privileges</span>():
    <span style="color:#66d9ef">def</span> __init__(self):
        self<span style="color:#f92672">.</span>privileges <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;can add post&#34;</span>, <span style="color:#e6db74">&#34;can delete post&#34;</span>, <span style="color:#e6db74">&#34;can ban user&#34;</span>]

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show_privileges</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Admin has the following privileges:&#34;</span>)
        <span style="color:#66d9ef">for</span> privilege <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>privileges:
            <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">- {privilege}&#34;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Admin</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, first_name, last_name):
        super()<span style="color:#f92672">.</span>__init__(first_name, last_name)
        self<span style="color:#f92672">.</span>own_privileges <span style="color:#f92672">=</span> Privileges()

admin <span style="color:#f92672">=</span> Admin(<span style="color:#e6db74">&#34;Wukong&#34;</span>, <span style="color:#e6db74">&#34;Sun&#34;</span>)
admin<span style="color:#f92672">.</span>own_privileges<span style="color:#f92672">.</span>show_privileges()
</code></pre></div><h4 id="練習-9-9-電瓶升級">練習 9-9 電瓶升級</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span>:
    <span style="color:#66d9ef">def</span> __init__(self, make, model, year):
        self<span style="color:#f92672">.</span>make <span style="color:#f92672">=</span> make
        self<span style="color:#f92672">.</span>model <span style="color:#f92672">=</span> model
        self<span style="color:#f92672">.</span>year <span style="color:#f92672">=</span> year
        self<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_descriptive_name</span>(self):
        long_name <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;{self.year} {self.make} {self.model}&#34;</span>
        <span style="color:#66d9ef">return</span> long_name<span style="color:#f92672">.</span>title()

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_odometer</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;This car has {self.odometer_reading} miles on it.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_odometer</span>(self, mileage):
        <span style="color:#66d9ef">if</span> mileage <span style="color:#f92672">&gt;=</span> self<span style="color:#f92672">.</span>odometer_reading:
            self<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">=</span> mileage
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You can&#39;t roll back an odometer!&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">increment_odometer</span>(self, miles):
        self<span style="color:#f92672">.</span>odometer_reading <span style="color:#f92672">+=</span> miles

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Battery</span>:
    <span style="color:#66d9ef">def</span> __init__(self, battery_size<span style="color:#f92672">=</span><span style="color:#ae81ff">75</span>):
        self<span style="color:#f92672">.</span>battery_size <span style="color:#f92672">=</span> battery_size

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">describe_battery</span>(self):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;This car has a {self.battery_size}-kWh battery.&#34;</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_range</span>(self):
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>battery_size <span style="color:#f92672">==</span> <span style="color:#ae81ff">75</span>:
            range <span style="color:#f92672">=</span> <span style="color:#ae81ff">260</span>
        <span style="color:#66d9ef">elif</span> self<span style="color:#f92672">.</span>battery_size <span style="color:#f92672">==</span> <span style="color:#ae81ff">100</span>:
            range <span style="color:#f92672">=</span> <span style="color:#ae81ff">315</span>
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;This car can go about {range} miles on a full charge.&#34;</span>)
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">upgrade_battery</span>(self):
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>battery_size <span style="color:#f92672">!=</span> <span style="color:#ae81ff">100</span>:
            self<span style="color:#f92672">.</span>battery_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Battery upgrade successfully!&#34;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ElectricCar</span>(Car):
    <span style="color:#66d9ef">def</span> __init__(self, make, model, year):
        super()<span style="color:#f92672">.</span>__init__(make, model, year)
        self<span style="color:#f92672">.</span>battery <span style="color:#f92672">=</span> Battery()

my_tesla <span style="color:#f92672">=</span> ElectricCar(<span style="color:#e6db74">&#39;tesla&#39;</span>, <span style="color:#e6db74">&#39;model s&#39;</span>, <span style="color:#ae81ff">2019</span>)
<span style="color:#66d9ef">print</span>(my_tesla<span style="color:#f92672">.</span>get_descriptive_name())
my_tesla<span style="color:#f92672">.</span>battery<span style="color:#f92672">.</span>describe_battery()
my_tesla<span style="color:#f92672">.</span>battery<span style="color:#f92672">.</span>get_range()

my_tesla<span style="color:#f92672">.</span>battery<span style="color:#f92672">.</span>upgrade_battery()
my_tesla<span style="color:#f92672">.</span>battery<span style="color:#f92672">.</span>get_range()
</code></pre></div><h2 id="94-導入類">9.4 導入類</h2>
<p>為遵循 Python 的總體理念，應讓文件盡可能整潔。 可將類存儲在模塊中，然後在主程序中導入所需的模塊。類似函數模塊。</p>
<h4 id="練習-9-10-導入-restaurant-類">練習 9-10 導入 <code>Restaurant</code> 類</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-9-1-導入-admin-類">練習 9-1 導入 <code>Admin</code> 類</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-9-1-多個模塊">練習 9-1 多個模塊</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h2 id="95-python-標準庫">9.5 Python 標準庫</h2>
<p>Python 標準庫是一組現成的模塊。可以使用標準庫中的任何函數和類，只需在程序開頭包含一條簡單的 import 語句即可。如模塊 <code>random</code>：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint
<span style="color:#f92672">&gt;&gt;&gt;</span> randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>)
<span style="color:#ae81ff">3</span>

<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> choice
<span style="color:#f92672">&gt;&gt;&gt;</span> players <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;charles&#39;</span>, <span style="color:#e6db74">&#39;martina&#39;</span>, <span style="color:#e6db74">&#39;michael&#39;</span>, <span style="color:#e6db74">&#39;florence&#39;</span>, <span style="color:#e6db74">&#39;eli&#39;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> first_up <span style="color:#f92672">=</span> choice(players)
<span style="color:#f92672">&gt;&gt;&gt;</span> first_up
<span style="color:#e6db74">&#39;florence&#39;</span>
</code></pre></div><h4 id="練習-9-13-骰子">練習 9-13 骰子</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Die</span>:
    <span style="color:#66d9ef">def</span> __init__(self, sides <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>):
        self<span style="color:#f92672">.</span>sides <span style="color:#f92672">=</span> sides

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">roll_die</span>(self, time <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>):
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;with the {self.sides} sides dice, play in {time} times:&#34;</span> )
        <span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> range(time):
            self<span style="color:#f92672">.</span>result <span style="color:#f92672">=</span> randint(<span style="color:#ae81ff">1</span>, self<span style="color:#f92672">.</span>sides)
            <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">The {num + 1} time: You get a result {self.result}.&#34;</span>)

die <span style="color:#f92672">=</span> Die()
die<span style="color:#f92672">.</span>roll_die()

die <span style="color:#f92672">=</span> Die(<span style="color:#ae81ff">10</span>)
die<span style="color:#f92672">.</span>roll_die()

die <span style="color:#f92672">=</span> Die(<span style="color:#ae81ff">20</span>)
die<span style="color:#f92672">.</span>roll_die()
</code></pre></div><h4 id="練習-9-14-彩票">練習 9-14 彩票</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> choice

possibilities <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>, <span style="color:#e6db74">&#34;e&#34;</span>]

winning_ticket <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Let&#39;s see what the winning ticket is...&#34;</span>)

<span style="color:#66d9ef">while</span> len(winning_ticket) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>:
    pulled_item <span style="color:#f92672">=</span> choice(possibilities)
    <span style="color:#66d9ef">if</span> pulled_item <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> winning_ticket:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34; </span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">We pulled a {pulled_item}!&#34;</span>)
        winning_ticket<span style="color:#f92672">.</span>append(pulled_item)
</code></pre></div><h4 id="練習-9-15-彩票分析">練習 9-15 彩票分析</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> choice

possibilities <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>, <span style="color:#e6db74">&#34;e&#34;</span>]

winning_ticket <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Let&#39;s see what the winning ticket is...&#34;</span>)

<span style="color:#66d9ef">while</span> len(winning_ticket) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>:
    pulled_item <span style="color:#f92672">=</span> choice(possibilities)
    <span style="color:#66d9ef">if</span> pulled_item <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> winning_ticket:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">We pulled a {pulled_item}!&#34;</span>)
        winning_ticket<span style="color:#f92672">.</span>append(pulled_item)

<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Ok ,the winning ticket are: {winning_ticket}&#34;</span>)

my_ticket <span style="color:#f92672">=</span> []
num <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
active <span style="color:#f92672">=</span> True
<span style="color:#66d9ef">while</span> active:
    <span style="color:#66d9ef">while</span> len(winning_ticket) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>:
        pulled_item <span style="color:#f92672">=</span> choice(possibilities)
        <span style="color:#66d9ef">if</span> pulled_item <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> my_ticket:
            my_ticket<span style="color:#f92672">.</span>append(pulled_item)
    num <span style="color:#f92672">=</span> num <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> my_ticket:
        <span style="color:#66d9ef">if</span> value <span style="color:#f92672">in</span> winning_ticket:
            active <span style="color:#f92672">=</span> False
    <span style="color:#66d9ef">if</span> num <span style="color:#f92672">==</span> <span style="color:#ae81ff">100000000000</span>:
        active <span style="color:#f92672">=</span> False
<span style="color:#66d9ef">print</span>(num)
</code></pre></div><h4 id="練習-9-16-python-module-of-the-week">練習 9-16 Python Module of the Week</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h2 id="96-類編碼風格">9.6 類編碼風格</h2>
<p>必須熟悉有些與類相關的編碼風格問題，在編寫的程序較複雜時尤其如此。</p>
<p>類名應採用駝峰命名法，即將類名中的每個單詞的首字母都大寫，而不使用下劃線。實例名和模塊名都採用小寫格式，並在單詞之間加上下劃線。</p>
<p>對於每個類，都應緊跟在類定義後麵包含一個文檔字符串。這種文檔字符串簡要地描述類的功能，並遵循編寫函數的文檔字符串時採用的格式約定。每個模塊也都應包含一個文檔字符串，對其中的類可用於做什麼進行描述。</p>
<p>可使用空行來組織代碼，但不要濫用。在類中，可使用一個空行來分隔方法；而在模塊中，可使用兩個空行來分隔類。</p>
<p>需要同時導入標準庫中的模塊和你編寫的模塊時，先編寫導入標準庫模塊的 <code>import</code> 語句，再添加一個空行，然後編寫導入編寫的模塊的 <code>import</code> 語句。在包含多條 <code>import</code> 語句的程序中，這種做法讓人更容易明白程序使用的各個模塊都來自何處。</p>
<h1 id="第-10-章-文件和異常">第 10 章 文件和異常</h1>
<h2 id="101-從文件中讀取數據">10.1 從文件中讀取數據</h2>
<p>讀取整個文件，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;pi_digits.txt&#39;</span>) <span style="color:#66d9ef">as</span> file_object:
    contents <span style="color:#f92672">=</span> file_object<span style="color:#f92672">.</span>read()
<span style="color:#66d9ef">print</span>(contents<span style="color:#f92672">.</span>rstrip())
</code></pre></div><p>函數 <code>open()</code> 用來打開文件，接受一個參數：要打開的文件的名稱。 Python 將在當前執行的文件所在的目錄中查找指定的文件。函數 <code>open()</code> 返回一個表示文件的對象。在這裡，<code>open('pi_digits.txt')</code> 返回一個表示文件 <code>pi_digits.txt</code> 的對象，Python 將該對象賦給 <code>file_object</code> 供以後使用。關鍵字 <code>with</code> 在不再需要訪問文件後將其關閉。也可以調用 <code>open()</code> 和 <code>close()</code> 來打開和關閉文件，但這樣做時，如果程序存在 bug 導致方法 <code>close()</code> 未執行，文件將不會關閉。如果在程序中過早調用 <code>close()</code>，將導致需要使用文件時它已關閉（無法訪問），這會導致更多的錯誤。使用方法 <code>read()</code> 讀取這個文件的全部內容，並將其作為一個字符串賦給變量 <code>contents</code>。這樣，通過打印 <code>contents</code> 的值，就可將這個文本文件的全部內容顯示出來。</p>
<p><code>read()</code> 到達文件末尾時返回一個空字符串，而將這個空字符串顯示出來時就是一個空行。要刪除多出來的空行，可在函數調用 <code>print()</code> 中使用 <code>rstrip()。</code></p>
<p>Python 只在當前文件夾中查找，而不會在其子文件夾中查找。要讓 Python 打開不與程序文件位於同一個目錄中的文件，需要提供文件路徑，讓 Python 到系統的特定位置去查找。</p>
<p>如，由於文件夾 <code>text_files</code> 位於文件夾 <code>python_work</code> 中，可以使用相對文件路徑來打開其中的文件：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;text_files/filename.txt&#39;</span>) <span style="color:#66d9ef">as</span> file_object:
</code></pre></div><p>還可以將文件在計算機中的準確位置告訴 Python，這這稱為絕對文件路徑。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">file_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/home/ehmatthes/other_files/text_files/_filename_.txt&#39;</span>
<span style="color:#66d9ef">with</span> open(file_path) <span style="color:#66d9ef">as</span> file_object:
</code></pre></div><p>要以每次一行的方式檢查文件，可對文件對象使用 for 循環。要消除這些多餘的空白行，可在函數調用 print() 中使用 rstrip()：：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;pi_digits.txt&#39;</span>

<span style="color:#66d9ef">with</span> open(filename) <span style="color:#66d9ef">as</span> file_object:
    <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> file_object:
        <span style="color:#66d9ef">print</span>(line<span style="color:#f92672">.</span>rstrip()
</code></pre></div><p>使用關鍵字 <code>with</code> 時，<code>open()</code> 返回的文件對像只在 <code>with</code> 代碼塊內可用。如果要在 <code>with</code> 代碼塊外訪問文件的內容，可在 <code>with</code> 代碼塊內將文件的各行存儲在一個列表中，並在 <code>with</code> 代碼塊外使用該列表：可以立即處理文件的各個部分，也可以推遲到程序後面再處理。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;pi_digits.txt&#39;</span>

<span style="color:#66d9ef">with</span> open(filename) <span style="color:#66d9ef">as</span> file_object:
    lines <span style="color:#f92672">=</span> file_object<span style="color:#f92672">.</span>readlines()

<span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> lines:
    <span style="color:#66d9ef">print</span>(line<span style="color:#f92672">.</span>rstrip())
</code></pre></div><p>使用文件的內容，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;pi_digits.txt&#39;</span>

<span style="color:#66d9ef">with</span> open(filename) <span style="color:#66d9ef">as</span> file_object:
    lines <span style="color:#f92672">=</span> file_object<span style="color:#f92672">.</span>readlines()

pi_string <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
<span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> lines:
    pi_string <span style="color:#f92672">+=</span> line<span style="color:#f92672">.</span>strip()

<span style="color:#66d9ef">print</span>(pi_string)
<span style="color:#66d9ef">print</span>(len(pi_string))
</code></pre></div><p>可使用方法 replace() 將字符串中的特定單詞都替換為另一個單詞。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;I really like dogs.&#34;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> message<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;dog&#39;</span>, <span style="color:#e6db74">&#39;cat&#39;</span>)
<span style="color:#e6db74">&#39;I really like cats.&#39;</span>
</code></pre></div><h2 id="102-寫入文件">10.2 寫入文件</h2>
<p>要將文本寫入文件，你在調用 <code>open()</code> 時需要提供另一個實參，告訴 Python 你要寫入打開的文件。在第二個實參可指定為讀取模式 <code>r</code>、寫入模式 <code>w</code>、附加模式 <code>a</code> 或讀寫模式 <code>r+</code>。如果省略了模式實參，Python 將以默認的只讀模式打開文件。</p>
<p>如果要寫入的文件不存在，函數 <code>open()</code> 將自動創建它。但如果指定的文件已經存在，Python 將在返回文件對象前清空該文件的內容。</p>
<p>寫入多行時需要指定換行符，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;programming.txt&#39;</span>

<span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> file_object:
    file_object<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;I love programming.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
    file_object<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;I love creating new games.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</code></pre></div><p>打開文件時可指定實參 <code>a</code>，以便將內容附加到文件末尾，而不是覆蓋文件原來的內容。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;programming.txt&#39;</span>

<span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;a&#39;</span>) <span style="color:#66d9ef">as</span> file_object:
    file_object<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;I also love finding meaning in large datasets.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
    file_object<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;I love creating apps that can run in a browser.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</code></pre></div><h4 id="練習-10-3-訪客">練習 10-3 訪客</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">record_guest</span>():
    name <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Hey! Please type your name: &#34;</span>)
    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;guest.txt&#34;</span>, <span style="color:#e6db74">&#34;a&#34;</span>) <span style="color:#66d9ef">as</span> file_object:
        file_object<span style="color:#f92672">.</span>write(f<span style="color:#e6db74">&#34;{name}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)

record_guest()
</code></pre></div><h4 id="練習-10-4-訪客名單">練習 10-4 訪客名單</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">record_guest</span>():
    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;guest.txt&#34;</span>, <span style="color:#e6db74">&#34;a&#34;</span>) <span style="color:#66d9ef">as</span> file_object:
        file_object<span style="color:#f92672">.</span>write(f<span style="color:#e6db74">&#34;{name.title()}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Welcome {name.title()}!&#34;</span>)

<span style="color:#66d9ef">while</span> True:
    name <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Please enter your name, if you need to log out, please enter &#39;Quit&#39;: &#34;</span>)
    <span style="color:#66d9ef">if</span> name<span style="color:#f92672">.</span>title() <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;Quit&#39;</span>:
        record_guest()
    <span style="color:#66d9ef">else</span>:
       <span style="color:#66d9ef">break</span>
</code></pre></div><h4 id="練習-10-5-調查">練習 10-5 調查</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">## 略略略</span>
</code></pre></div><h2 id="103-異常">10.3 異常</h2>
<p><code>ZeroDivisionError</code> 異常：出現在 0 除某數時。</p>
<p><code>FileNotFoundError</code> 異常：所讀取的文件不存在。</p>
<p>當認為可能會發生錯誤時，可編寫一個 <code>try-except</code> 代碼塊來處理可能引發的異常。 Python 嘗試運行一些代碼，並告訴它如果這些代碼引發了指定的異常該怎麼辦。依賴 <code>try</code> 代碼塊成功執行的代碼都應放到 <code>else</code> 代碼塊中。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Give me two numbers, and I&#39;ll divide them.&#34;</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Enter &#39;q&#39; to quit.&#34;</span>)

<span style="color:#66d9ef">while</span> True:
    first_number <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">First number: &#34;</span>)
    <span style="color:#66d9ef">if</span> first_number <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;q&#39;</span>:
        <span style="color:#66d9ef">break</span>
    second_number <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Second number: &#34;</span>)
    <span style="color:#66d9ef">if</span> second_number <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;q&#39;</span>:
            <span style="color:#66d9ef">break</span>
        <span style="color:#66d9ef">try</span>:
            answer <span style="color:#f92672">=</span> int(first_number) <span style="color:#f92672">/</span> int(second_number)
        <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;You can&#39;t divide by 0!&#34;</span>)
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(answer)
</code></pre></div><p><code>try-except-else</code> 代碼塊的工作原理大致如下。 Python 嘗試執行 <code>try</code> 代碼塊中的代碼，只有可能引發異常的代碼才需要放在 <code>try</code> 語句中。有時候，有一些僅在 <code>try</code> 代碼塊成功執行時才需要運行的代碼，這些代碼應放在 <code>else</code> 代碼塊中。 <code>except</code> 代碼塊告訴 Python，如果嘗試運行 <code>try</code> 代碼塊中的代碼時引發了指定的異常該怎麼辦。</p>
<p>又如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;alice.txt&#39;</span>

<span style="color:#66d9ef">try</span>:
    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> f:
        contents <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>read()
<span style="color:#66d9ef">except</span> FileNotFoundError:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Sorry, the file {filename} does not exist.&#34;</span>)
</code></pre></div><p>用方法 <code>split()</code>，它能根據一個字符串創建一個單詞列表。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;alice.txt&#39;</span>

<span style="color:#66d9ef">try</span>:
    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> f:
        contents <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>read()
<span style="color:#66d9ef">except</span> FileNotFoundError:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Sorry, the file {filename} does not exist.&#34;</span>)
<span style="color:#66d9ef">else</span>:
      <span style="color:#75715e"># 计算该文件大致包含多少个单词。</span>
    words <span style="color:#f92672">=</span> contents<span style="color:#f92672">.</span>split()
    num_words <span style="color:#f92672">=</span> len(words)
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The file {filename} has about {num_words} words.&#34;</span>)
</code></pre></div><p>分析多個文件，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count_words</span>(filename):
    <span style="color:#66d9ef">try</span>:
        <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> f:
            contents <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>read()
    <span style="color:#66d9ef">except</span> FileNotFoundError:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Sorry, the file {filename} does not exist.&#34;</span>)
    <span style="color:#66d9ef">else</span>:
        words <span style="color:#f92672">=</span> contents<span style="color:#f92672">.</span>split()
        num_words <span style="color:#f92672">=</span> len(words)
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;The file {filename} has about {num_words} words.&#34;</span>)

filenames <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;alice.txt&#39;</span>, <span style="color:#e6db74">&#39;siddhartha.txt&#39;</span>, <span style="color:#e6db74">&#39;moby_dick.txt&#39;</span>, <span style="color:#e6db74">&#39;little_women.txt&#39;</span>]
<span style="color:#66d9ef">for</span> filename <span style="color:#f92672">in</span> filenames:
    count_words(filename)
</code></pre></div><p>可以使用 <code>pass</code> 語句來靜默失敗，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count_words</span>(filename):
    <span style="color:#66d9ef">try</span>:
        <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>
    <span style="color:#66d9ef">except</span> FileNotFoundError:
        <span style="color:#66d9ef">pass</span>
    <span style="color:#66d9ef">else</span>:
        <span style="color:#f92672">--</span>snip<span style="color:#f92672">--</span>

filenames <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;alice.txt&#39;</span>, <span style="color:#e6db74">&#39;siddhartha.txt&#39;</span>, <span style="color:#e6db74">&#39;moby_dick.txt&#39;</span>, <span style="color:#e6db74">&#39;little_women.txt&#39;</span>]
<span style="color:#66d9ef">for</span> filename <span style="color:#f92672">in</span> filenames:
    count_words(filename)
</code></pre></div><h4 id="練習-10-6-加法計算">練習 10-6 加法計算</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">plus</span>(a, b):
    <span style="color:#66d9ef">try</span>:
        c <span style="color:#f92672">=</span> int(a) <span style="color:#f92672">+</span> int(b)
        <span style="color:#66d9ef">print</span>(c)
    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ValueError</span> :
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Please type number, not text!&#34;</span>)

a <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Please type a number: &#34;</span>)
b <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Please type an another number: &#34;</span>)
plus(a, b)
</code></pre></div><h4 id="練習-10-7-加法計算器">練習 10-7 加法計算器</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">plus</span>(a, b):
    <span style="color:#66d9ef">try</span>:
        c <span style="color:#f92672">=</span> int(a) <span style="color:#f92672">+</span> int(b)
        <span style="color:#66d9ef">print</span>(c)
    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ValueError</span> :
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Please type number, not text! If you want to quit, please type &#39;quit&#39;.&#34;</span>)

<span style="color:#66d9ef">while</span> True:
    a <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Please type a number.If you want to quit, please type &#39;quit&#39;. &#34;</span>)
    <span style="color:#66d9ef">if</span> a<span style="color:#f92672">.</span>title() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Quit&#34;</span>:
        <span style="color:#66d9ef">break</span>
    b <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Please type an another number.If you want to quit, please type &#39;quit&#39;. &#34;</span>)
    <span style="color:#66d9ef">if</span> b<span style="color:#f92672">.</span>title() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Quit&#34;</span>:
        <span style="color:#66d9ef">break</span>
    plus(a, b)
</code></pre></div><h4 id="練習-10-8-貓和狗">練習 10-8 貓和狗</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-10-9-靜默的貓和狗">練習 10-9 靜默的貓和狗</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 略略略</span>
</code></pre></div><h4 id="練習-10-10-常見單詞">練習 10-10 常見單詞</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count_word</span>(file_name, specific_word):
    <span style="color:#66d9ef">try</span>:
        <span style="color:#66d9ef">with</span> open(file_name, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
            contents <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>read()
    <span style="color:#66d9ef">except</span> FileNotFoundError:
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Sorry, the file {file_name} does not exist.&#34;</span>)
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(contents<span style="color:#f92672">.</span>lower()<span style="color:#f92672">.</span>count(specific_word))

count_word(<span style="color:#e6db74">&#39;Pride_and_Prejudigce_by_Jane_Austen.txt&#39;</span>, <span style="color:#e6db74">&#39;the &#39;</span>)
count_word(<span style="color:#e6db74">&#39;Pride_and_Prejudice_by_Jane_Austen.txt&#39;</span>, <span style="color:#e6db74">&#39;the&#39;</span>)
</code></pre></div><h2 id="104-存儲數據">10.4 存儲數據</h2>
<p>可使用 <code>json</code> 模塊來存儲數據。</p>
<p>函數 <code>json.dump()</code> 接受兩個實參：要存儲的數據，以及可用於存儲數據的文件對象。先導入模塊 <code>json</code>，再創建一個數字列表。指定要將該數字列表存儲到哪個文件中。通常使用文件擴展名 <code>.json</code> 來指出文件存儲的數據為 <code>JSON</code> 格式。接下來，以寫入模式打開這個文件，讓 <code>json</code> 能夠將數據寫入其中。使用函數 <code>json.dump()</code> 將數字列表存儲到文件 <code>numbers.json</code> 中。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> json

numbers <span style="color:#f92672">=</span> [<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">13</span>]

filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;numbers.json&#39;</span>
<span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> f:
    json<span style="color:#f92672">.</span>dump(numbers, f)
</code></pre></div><p>使用 <code>json.load()</code> 將列表讀取到內存中。确保读取的是前面写入的文件，以读取方式打开该文件，使用函数 <code>json.load()</code> 加载存储在 <code>JSON</code> 中的信息，并将其赋给变量。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> json

filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;numbers.json&#39;</span>
<span style="color:#66d9ef">with</span> open(filename) <span style="color:#66d9ef">as</span> f:
    numbers <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>load(f)

<span style="color:#66d9ef">print</span>(numbers)
</code></pre></div><p>又如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> json

filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;username.json&#39;</span>
<span style="color:#66d9ef">try</span>:
    <span style="color:#66d9ef">with</span> open(filename) <span style="color:#66d9ef">as</span> f:
        username <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>load(f)
<span style="color:#66d9ef">except</span> FileNotFoundError:
    username <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;What is your name? &#34;</span>)
    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> f:
        json<span style="color:#f92672">.</span>dump(username, f)
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;We&#39;ll remember you when you come back, {username}!&#34;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Welcome back, {username}!&#34;</span>)
</code></pre></div><p>要編寫出清晰而易於維護和擴展的代碼，最好每個函數都執行單一而清晰的任務。</p>
<h4 id="練習-10-11-喜歡的數">練習 10-11 喜歡的數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> json

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">record_num</span>():
    num <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;What is yout favourite number? &#34;</span>)
    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;10-11.json&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> file:
        json<span style="color:#f92672">.</span>dump(num, file)
    <span style="color:#66d9ef">return</span> num

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show_num</span>():
    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;10-11.json&#34;</span>) <span style="color:#66d9ef">as</span> file:
        num <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>load(file)
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Ha ha! I know your favourite number is {num}&#34;</span>)

record_num()

show_num()
</code></pre></div><h4 id="練習-10-12-記住喜歡的數">練習 10-12 記住喜歡的數</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> json

filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;10-11.json&#34;</span>
<span style="color:#66d9ef">try</span>:
    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;10-11.json&#34;</span>) <span style="color:#66d9ef">as</span> file:
        num <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>load(file)
<span style="color:#66d9ef">except</span> FileNotFoundError:
    num <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;What is yout favourite number? &#34;</span>)
    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;10-11.json&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> file:
        json<span style="color:#f92672">.</span>dump(num, file)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Ha ha! I know your favourite number is {num}&#34;</span>)
</code></pre></div><h4 id="練習-10-13-驗證用戶">練習 10-13 驗證用戶</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> json

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_stored_username</span>():
    filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;username.json&#39;</span> 
    <span style="color:#66d9ef">try</span>:
        <span style="color:#66d9ef">with</span> open(filename) <span style="color:#66d9ef">as</span> f:
            username <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>load(f)
    <span style="color:#66d9ef">except</span> FileNotFoundError:
        <span style="color:#66d9ef">return</span> None
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">return</span> username

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_new_username</span>():
    username <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;What is your name? </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
    filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;username.json&#39;</span>
    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> f:
        json<span style="color:#f92672">.</span>dump(username<span style="color:#f92672">.</span>title(), f)
    <span style="color:#66d9ef">return</span> username

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">greet_user</span>():
    username <span style="color:#f92672">=</span> get_stored_username()
    <span style="color:#66d9ef">if</span> username:
        v <span style="color:#f92672">=</span> input(f<span style="color:#e6db74">&#34;Is {username.title()} you name? &lt;yes or no&gt;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
        <span style="color:#66d9ef">if</span> v<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;yes&#34;</span>:
            <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;Welcome back, {username.title()}!&#34;</span>)
        <span style="color:#66d9ef">else</span>:
            username <span style="color:#f92672">=</span> get_new_username()
            <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;We&#39;ll remember you when you come back, {username.title()}!&#34;</span>)
    <span style="color:#66d9ef">else</span>:
        username <span style="color:#f92672">=</span> get_new_username()
        <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;We&#39;ll remember you when you come back, {username.title()}!&#34;</span>)

greet_user()
</code></pre></div><h1 id="第-11-章">第 11 章</h1>
<h2 id="111-測試函數">11.1 測試函數</h2>
<p>Python 標準庫中的模塊 <code>unittest</code> 提供了代碼測試工具。<strong>單元測試</strong>用於核實函數的某個方面沒有問題。<strong>測試用例</strong>是一組單元測試，它們一道核實函數在各種情形下的行為都符合要求。良好的測試用例考慮到了函數可能收到的各種輸入，包含針對所有這些情形的測試。<strong>全覆蓋</strong>的測試用例包含一整套單元測試，涵蓋了各種可能的函數使用方式。</p>
<p>要为函数编写测试用例，可先导入模块 <code>unittest</code> 和要测试的函数，再创建一个继承 <code>unittest</code>.<code>TestCase</code> 的类，并编写一系列方法对函数行为的不同方面进行测试。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_formatted_name</span>(first, last):
    full_name <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;{first} {last}&#34;</span>
    <span style="color:#66d9ef">return</span> full_name<span style="color:#f92672">.</span>title()
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> unittest
<span style="color:#f92672">from</span> name_function <span style="color:#f92672">import</span> get_formatted_name

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NamesTestCase</span>(unittest<span style="color:#f92672">.</span>TestCase):

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_first_last_name</span>(self):
        formatted_name <span style="color:#f92672">=</span> get_formatted_name(<span style="color:#e6db74">&#39;janis&#39;</span>, <span style="color:#e6db74">&#39;joplin&#39;</span>)
        self<span style="color:#f92672">.</span>assertEqual(formatted_name, <span style="color:#e6db74">&#39;Janis Joplin&#39;</span>)

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    unittest<span style="color:#f92672">.</span>main()
</code></pre></div><p>首先，导入模块 <code>unittest</code> 和要测试的函数 <code>get_formatted_name()</code>。创建了一个名为 <code>NamesTestCase</code> 的类，用于包含一系列针对 <code>get_formatted_name()</code> 的单元测试。这个类必须继承 <code>unittest.TestCase</code> 类，这样 Python 才知道如何运行测试。</p>
<p><code>NamesTestCase</code> 只包含一个方法，用于测试 <code>get_formatted_name()</code> 的一个方面。将该方法命名为 <code>test_first_last_name()</code>，因为要核实的是只有名和姓的姓名能否被正确格式化。运行 <code>test_name_function.py</code> 时，所有以 <code>test_</code> 打头的方法都将自动运行。在这个方法中，调用了要测试的函数。在本例中，使用实参<code>'janis'</code> 和 <code>'joplin'</code> 调用 <code>get_formatted_name()</code>，并将结果赋给变量 <code>formatted_name</code>。</p>
<p><code>unittest</code> 类最有用的功能之一：断言方法。断言方法核实得到的结果是否与期望的结果一致。调用 <code>unittest</code> 的方法 <code>assertEqual()</code>，并向它传递 <code>formatted_name</code> 和 <code>'Janis Joplin'</code>。如果它们相等則測試通過。</p>
<h4 id="練習-11-1-城市和國家">練習 11-1 城市和國家</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> city_functions <span style="color:#f92672">import</span> city_functions
<span style="color:#f92672">import</span> unittest

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CityTestCase</span>(unittest<span style="color:#f92672">.</span>TestCase):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_city_functions</span>(self):
        formatted_name <span style="color:#f92672">=</span> city_functions(<span style="color:#e6db74">&#34;shijiazhuang&#34;</span>, <span style="color:#e6db74">&#34;china&#34;</span>)
        self<span style="color:#f92672">.</span>assertEqual(formatted_name, <span style="color:#e6db74">&#34;Shijiazhuang, China&#34;</span>)

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    unittest<span style="color:#f92672">.</span>main()
</code></pre></div><h4 id="練習-11-2-人口數量">練習 11-2 人口數量</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> city_functions <span style="color:#f92672">import</span> city_functions
<span style="color:#f92672">import</span> unittest

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CityTestCase</span>(unittest<span style="color:#f92672">.</span>TestCase):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_city_functions</span>(self):
        formatted_name <span style="color:#f92672">=</span> city_functions(<span style="color:#e6db74">&#34;santiago&#34;</span>, <span style="color:#e6db74">&#34;chile&#34;</span>, <span style="color:#e6db74">&#34;5000000&#34;</span>)
        self<span style="color:#f92672">.</span>assertEqual(formatted_name, <span style="color:#e6db74">&#34;Santiago, Chile - population 5000000&#34;</span>)

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    unittest<span style="color:#f92672">.</span>main()
</code></pre></div><h2 id="112-測試類">11.2 測試類</h2>
<p>Python 在 unittest.TestCase 類中提供了很多斷言方法。如：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>assertEqual(a, b)</code></td>
<td>核实 <code>a == b</code></td>
</tr>
<tr>
<td><code>assertNotEqual(a, b)</code></td>
<td>核实 <code>a != b</code></td>
</tr>
<tr>
<td><code>assertTrue(x)</code></td>
<td>核实 <code>x</code> 为 <code>True</code></td>
</tr>
<tr>
<td><code>assertFalse(x)</code></td>
<td>核实 <code>x</code> 为 <code>False</code></td>
</tr>
<tr>
<td><code>assertIn(_item_, _list_)</code></td>
<td>核实<code>_item_</code>在<code>_list_</code>中</td>
</tr>
<tr>
<td><code>assertNotIn(_item_, _list_)</code></td>
<td>核实<code>_item_</code>不在<code>_list_</code>中</td>
</tr>
</tbody>
</table>
<p>測試一個類，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AnonymousSurvey</span>:

    <span style="color:#66d9ef">def</span> __init__(self, question):
        self<span style="color:#f92672">.</span>question <span style="color:#f92672">=</span> question
        self<span style="color:#f92672">.</span>responses <span style="color:#f92672">=</span> []

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show_question</span>(self):
        <span style="color:#66d9ef">print</span>(self<span style="color:#f92672">.</span>question)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">store_response</span>(self, new_response):
        self<span style="color:#f92672">.</span>responses<span style="color:#f92672">.</span>append(new_response)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show_results</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Survey results:&#34;</span>)
        <span style="color:#66d9ef">for</span> response <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>responses:
            <span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#34;- {response}&#34;</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> survey <span style="color:#f92672">import</span> AnonymousSurvey

<span style="color:#75715e"># 定义一个问题，并创建一个调查。</span>
question <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;What language did you first learn to speak?&#34;</span>
my_survey <span style="color:#f92672">=</span> AnonymousSurvey(question)

<span style="color:#75715e"># 显示问题并存储答案。</span>
my_survey<span style="color:#f92672">.</span>show_question()
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Enter &#39;q&#39; at any time to quit.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">while</span> True:
    response <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Language: &#34;</span>)
    <span style="color:#66d9ef">if</span> response <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;q&#39;</span>:
        <span style="color:#66d9ef">break</span>
    my_survey<span style="color:#f92672">.</span>store_response(response)

<span style="color:#75715e"># 显示调查结果。</span>
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Thank you to everyone who participated in the survey!&#34;</span>)
my_survey<span style="color:#f92672">.</span>show_results()
</code></pre></div><p>這個類首先存儲了一個調查問題，並創建了一個空列表，用於存儲答案。這個類包含打印調查問題的方法，在答案列表中添加新答案的方法，以及將存儲在列表中的答案都打印出來的方法。要創建該類的實例，只需提供一個問題即可。有了表示調查的實例後，就可使用 <code>show_question()</code> 來顯示其中的問題，使用 <code>store_response()</code> 來存儲答案並使用 <code>show_results()</code> 來顯示調查結果。</p>
<p>進行測試，如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> unittest
<span style="color:#f92672">from</span> survey <span style="color:#f92672">import</span> AnonymousSurvey

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestAnonymousSurvey</span>(unittest<span style="color:#f92672">.</span>TestCase):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_store_single_response</span>(self):
        question <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;What language did you first learn to speak?&#34;</span>
        my_survey <span style="color:#f92672">=</span> AnonymousSurvey(question)
        my_survey<span style="color:#f92672">.</span>store_response(<span style="color:#e6db74">&#39;English&#39;</span>)
        self<span style="color:#f92672">.</span>assertIn(<span style="color:#e6db74">&#39;English&#39;</span>, my_survey<span style="color:#f92672">.</span>responses)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_store_three_responses</span>(self):
        question <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;What language did you first learn to speak?&#34;</span>
        my_survey <span style="color:#f92672">=</span> AnonymousSurvey(question)
        responses <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;English&#39;</span>, <span style="color:#e6db74">&#39;Spanish&#39;</span>, <span style="color:#e6db74">&#39;Mandarin&#39;</span>]
        <span style="color:#66d9ef">for</span> response <span style="color:#f92672">in</span> responses:
            my_survey<span style="color:#f92672">.</span>store_response(response)

        <span style="color:#66d9ef">for</span> response <span style="color:#f92672">in</span> responses:
              elf<span style="color:#f92672">.</span>assertIn(response, my_survey<span style="color:#f92672">.</span>responses)

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    unittest<span style="color:#f92672">.</span>main()
</code></pre></div><p>首先導入模塊 <code>unittest</code> 和要測試的類 <code>AnonymousSurvey</code>。將測試用例命名為 <code>TestAnonymousSurvey</code>，它也繼承了 <code>unittest.TestCase</code>。第一個測試方法驗證：調查問題的單個答案被存儲後，會包含在調查結果列表中。</p>
<p>在前面的 <code>test_survey.py</code> 中，每個測試方法中都創建了一個 <code>AnonymousSurvey</code> 實例，並在每個方法中都創建了答案。 <code>unittest.TestCase</code> 類包含的方法 <code>setUp()</code> 讓我們只需創建這些對像一次，就能在每個測試方法中使用。如果在 <code>TestCase</code> 類中包含了方法 <code>setUp()</code>，Python 將先運行它，再運行各個以 <code>test_</code> 打頭的方法。這樣，在每個測試方法中，都可使用在方法 <code>setUp()</code> 中創建的對象。如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> unittest
<span style="color:#f92672">from</span> survey <span style="color:#f92672">import</span> AnonymousSurvey

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestAnonymousSurvey</span>(unittest<span style="color:#f92672">.</span>TestCase):

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">setUp</span>(self):
        question <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;What language did you first learn to speak?&#34;</span>
        self<span style="color:#f92672">.</span>my_survey <span style="color:#f92672">=</span> AnonymousSurvey(question)
        self<span style="color:#f92672">.</span>responses <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;English&#39;</span>, <span style="color:#e6db74">&#39;Spanish&#39;</span>, <span style="color:#e6db74">&#39;Mandarin&#39;</span>]

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_store_single_response</span>(self):
        self<span style="color:#f92672">.</span>my_survey<span style="color:#f92672">.</span>store_response(self<span style="color:#f92672">.</span>responses[<span style="color:#ae81ff">0</span>])
        self<span style="color:#f92672">.</span>assertIn(self<span style="color:#f92672">.</span>responses[<span style="color:#ae81ff">0</span>], self<span style="color:#f92672">.</span>my_survey<span style="color:#f92672">.</span>responses)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_store_three_responses</span>(self):
        <span style="color:#66d9ef">for</span> response <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>responses:
            self<span style="color:#f92672">.</span>my_survey<span style="color:#f92672">.</span>store_response(response)
        <span style="color:#66d9ef">for</span> response <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>responses:
            self<span style="color:#f92672">.</span>assertIn(response, self<span style="color:#f92672">.</span>my_survey<span style="color:#f92672">.</span>responses)

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    unittest<span style="color:#f92672">.</span>main()
</code></pre></div><p>方法 <code>setUp()</code> 做了兩件事情：創建一個調查對象，以及創建一個答案列表。存儲這兩樣東西的變量名包含前綴 <code>self</code>（即存儲在屬性中），因此可在這個類的任何地方使用。這讓兩個測試方法都更簡單，因為它們都不用創建調查對象和答案了。方法 <code>test_store_single_response()</code> 核實 <code>self.responses</code> 中的第一個答案 <code>self.responses[0]</code> 被妥善地存儲，而方法 <code>test_store_three_response()</code> 核實 <code>self.responses</code> 中的全部三個答案都被妥善地存儲。</p>
<h4 id="練習-11-3-雇員">練習 11-3 雇員</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> unittest
<span style="color:#f92672">from</span> employ <span style="color:#f92672">import</span> Employee

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestEmployee</span>(unittest<span style="color:#f92672">.</span>TestCase):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_salary</span>(self):
        self<span style="color:#f92672">.</span>me <span style="color:#f92672">=</span> Employee(<span style="color:#e6db74">&#34;miao&#34;</span>, <span style="color:#e6db74">&#34;chiang&#34;</span>, <span style="color:#ae81ff">100</span>)
        self<span style="color:#f92672">.</span>me<span style="color:#f92672">.</span>give_raise()
        self<span style="color:#f92672">.</span>assertEqual(self<span style="color:#f92672">.</span>me<span style="color:#f92672">.</span>final_salary, <span style="color:#ae81ff">200</span>)

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    unittest<span style="color:#f92672">.</span>main()
</code></pre></div><hr>
<p>End.</p>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/python/" rel="tag">Python</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/2020/11/how-to-use-acme/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">acme.sh 工具的使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/2021/01/how-to-install-jupyter-notebook-in-your-server/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何在服務器上凑一個 Jupyter Notebook</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 by Miao with Love.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/js/custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>